<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>Escape a Large Maze - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://curest0x1021.github.io/Leetcode-Solution/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://curest0x1021.github.io/Leetcode-Solution/static/css/app.css"/></head><body><header><h1>1036. Escape a Large Maze</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://curest0x1021.github.io/Leetcode-Solution/difficulty/hard" class="tag">Hard</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/array">Array</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/hash-table">Hash Table</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/depth-first-search">Depth-First Search</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/breadth-first-search">Breadth-First Search</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>There is a 1 million by 1 million grid on an XY-plane, and the coordinates of each grid square are <code>(x, y)</code>.</p>
<p>We start at the <code>source = [sx, sy]</code> square and want to reach the <code>target = [tx, ty]</code> square. There is also an array of <code>blocked</code> squares, where each <code>blocked[i] = [xi, yi]</code> represents a blocked square with coordinates <code>(xi, yi)</code>.</p>
<p>Each move, we can walk one square north, east, south, or west if the square is <strong>not</strong> in the array of <code>blocked</code> squares. We are also not allowed to walk outside of the grid.</p>
<p>Return <code>true</code>** if and only if it is possible to reach the <strong><code>target</code></strong> square from the <strong><code>source</code></strong> square through a sequence of valid moves**.</p>
<p>&nbsp;
<strong>Example 1:</strong></p>
<pre><code class="hljs">Input: blocked = [[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">0</span>]], source = [<span class="hljs-number">0</span>,<span class="hljs-number">0</span>], target = [<span class="hljs-number">0</span>,<span class="hljs-number">2</span>]
Output: <span class="hljs-literal">false</span>
Explanation: The target square <span class="hljs-keyword">is</span> inaccessible starting <span class="hljs-keyword">from</span> the source square because we cannot move.
We cannot move north <span class="hljs-keyword">or</span> east because those squares are blocked.
We cannot move south <span class="hljs-keyword">or</span> west because we cannot go outside of the grid.
</code></pre>
<p><strong>Example 2:</strong></p>
<pre><code class="hljs"><span class="hljs-attr">Input:</span> <span class="hljs-string">blocked</span> <span class="hljs-string">=</span> <span class="hljs-string">[],</span> <span class="hljs-string">source</span> <span class="hljs-string">=</span> <span class="hljs-string">[0,0],</span> <span class="hljs-string">target</span> <span class="hljs-string">=</span> <span class="hljs-string">[999999,999999]</span>
<span class="hljs-attr">Output:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">Explanation:</span> <span class="hljs-string">Because</span> <span class="hljs-string">there</span> <span class="hljs-string">are</span> <span class="hljs-literal">no</span> <span class="hljs-string">blocked</span> <span class="hljs-string">cells,</span> <span class="hljs-string">it</span> <span class="hljs-string">is</span> <span class="hljs-string">possible</span> <span class="hljs-string">to</span> <span class="hljs-string">reach</span> <span class="hljs-string">the</span> <span class="hljs-string">target</span> <span class="hljs-string">square.</span>
</code></pre>
<p>&nbsp;
<strong>Constraints:</strong></p>
<ul>
<li><p><code>0 &lt;= blocked.length &lt;= 200</code></p></li>
<li><p><code>blocked[i].length == 2</code></p></li>
<li><p><code>0 &lt;= xi, yi &lt; 106</code></p></li>
<li><p><code>source.length == target.length == 2</code></p></li>
<li><p><code>0 &lt;= sx, sy, tx, ty &lt; 106</code></p></li>
<li><p><code>source != target</code></p></li>
<li><p>It is guaranteed that <code>source</code> and <code>target</code> are not blocked.</p></li>
</ul>
<h2 id="solution">Solution</h2>
<pre><code class="hljs lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isEscapePossible</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[][] blocked, <span class="hljs-keyword">int</span>[] source, <span class="hljs-keyword">int</span>[] target)</span> </span>{
        <span class="hljs-keyword">if</span> (blocked.length == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
        }
        Set&lt;Integer&gt; blocks = <span class="hljs-keyword">new</span> HashSet&lt;&gt;();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span>[] b : blocked) {
            <span class="hljs-keyword">if</span> (target[<span class="hljs-number">0</span>] * <span class="hljs-number">1000000</span> + target[<span class="hljs-number">1</span>] != b[<span class="hljs-number">0</span>] * <span class="hljs-number">1000000</span> + b[<span class="hljs-number">1</span>]) {
                blocks.add(b[<span class="hljs-number">0</span>] * <span class="hljs-number">1000000</span> + b[<span class="hljs-number">1</span>]);
            }
        }
        <span class="hljs-keyword">return</span> dfs(blocks, source, source[<span class="hljs-number">0</span>], source[<span class="hljs-number">1</span>], <span class="hljs-keyword">new</span> HashSet&lt;&gt;(), target)
                &amp;&amp; dfs(blocks, target, target[<span class="hljs-number">0</span>], target[<span class="hljs-number">1</span>], <span class="hljs-keyword">new</span> HashSet&lt;&gt;(), source);
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">dfs</span><span class="hljs-params">(
            Set&lt;Integer&gt; blocks, <span class="hljs-keyword">int</span>[] start, <span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> j, Set&lt;Integer&gt; visited, <span class="hljs-keyword">int</span>[] target)</span> </span>{
        <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">0</span>
                || j &lt; <span class="hljs-number">0</span>
                || i &gt; <span class="hljs-number">999999</span>
                || j &gt; <span class="hljs-number">999999</span>
                || blocks.contains(i * <span class="hljs-number">1000000</span> + j)
                || visited.contains(i * <span class="hljs-number">1000000</span> + j)) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        }
        <span class="hljs-keyword">if</span> (i == target[<span class="hljs-number">0</span>] &amp;&amp; j == target[<span class="hljs-number">1</span>]) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
        }
        visited.add(i * <span class="hljs-number">1000000</span> + j);
        <span class="hljs-keyword">if</span> (visited.size() &gt; blocks.size() * (blocks.size() + <span class="hljs-number">1</span>)) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
        }
        <span class="hljs-keyword">return</span> dfs(blocks, start, i + <span class="hljs-number">1</span>, j, visited, target)
                || dfs(blocks, start, i - <span class="hljs-number">1</span>, j, visited, target)
                || dfs(blocks, start, i, j + <span class="hljs-number">1</span>, visited, target)
                || dfs(blocks, start, i, j - <span class="hljs-number">1</span>, visited, target);
    }
}
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/curest0x1021/Leetcode-Solution" target="_blank"><img src="https://curest0x1021.github.io/Leetcode-Solution/static/img/github.png" alt="github"/></a></footer></body></html>