<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>Shifting Letters II - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://curest0x1021.github.io/Leetcode-Solution/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://curest0x1021.github.io/Leetcode-Solution/static/css/app.css"/></head><body><header><h1>2381. Shifting Letters II</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://curest0x1021.github.io/Leetcode-Solution/difficulty/medium" class="tag">Medium</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/array">Array</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/string">String</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/prefix-sum">Prefix Sum</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/problem/the-skyline-problem.html">The Skyline Problem</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/problem/range-sum-query-mutable.html">Range Sum Query - Mutable</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/problem/range-addition.html">Range Addition</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/problem/shifting-letters.html">Shifting Letters</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/problem/maximum-population-year.html">Maximum Population Year</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/problem/describe-the-painting.html">Describe the Painting</a></li></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>You are given a string <code>s</code> of lowercase English letters and a 2D integer array <code>shifts</code> where <code>shifts[i] = [starti, endi, directioni]</code>. For every <code>i</code>, <strong>shift</strong> the characters in <code>s</code> from the index <code>starti</code> to the index <code>endi</code> (<strong>inclusive</strong>) forward if <code>directioni = 1</code>, or shift the characters backward if <code>directioni = 0</code>.</p>
<p>Shifting a character <strong>forward</strong> means replacing it with the <strong>next</strong> letter in the alphabet (wrapping around so that <code>'z'</code> becomes <code>'a'</code>). Similarly, shifting a character <strong>backward</strong> means replacing it with the <strong>previous</strong> letter in the alphabet (wrapping around so that <code>'a'</code> becomes <code>'z'</code>).</p>
<p>Return **the final string after all such shifts to *<em><code>s</code></em>* are applied**.</p>
<p>&nbsp;
<strong>Example 1:</strong></p>
<pre><code class="hljs">Input: s = <span class="hljs-string">"abc"</span>, shifts = [[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>]]
Output: <span class="hljs-string">"ace"</span>
Explanation: Firstly, shift the characters <span class="hljs-keyword">from</span> index <span class="hljs-number">0</span> to index <span class="hljs-number">1</span> backward. Now s = <span class="hljs-string">"zac"</span>.
Secondly, shift the characters <span class="hljs-keyword">from</span> index <span class="hljs-number">1</span> to index <span class="hljs-number">2</span> forward. Now s = <span class="hljs-string">"zbd"</span>.
Finally, shift the characters <span class="hljs-keyword">from</span> index <span class="hljs-number">0</span> to index <span class="hljs-number">2</span> forward. Now s = <span class="hljs-string">"ace"</span>.
</code></pre>
<p><strong>Example 2:</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">Input</span>: s = "dztz", shifts = [[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>]]
Output: "catz"
Explanation: Firstly, shift the characters <span class="hljs-keyword">from</span> <span class="hljs-keyword">index</span> <span class="hljs-number">0</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">index</span> <span class="hljs-number">0</span> backward. Now s = "cztz".
Finally, shift the characters <span class="hljs-keyword">from</span> <span class="hljs-keyword">index</span> <span class="hljs-number">1</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">index</span> <span class="hljs-number">1</span> forward. Now s = "catz".
</code></pre>
<p>&nbsp;
<strong>Constraints:</strong></p>
<ul>
<li><p><code>1 &lt;= s.length, shifts.length &lt;= 5 * 104</code></p></li>
<li><p><code>shifts[i].length == 3</code></p></li>
<li><p><code>0 &lt;= starti &lt;= endi &lt; s.length</code></p></li>
<li><p><code>0 &lt;= directioni &lt;= 1</code></p></li>
<li><p><code>s</code> consists of lowercase English letters.</p></li>
</ul>
<h2 id="solution-java">Solution (Java)</h2>
<pre><code class="hljs lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">shiftingLetters</span><span class="hljs-params">(String s, <span class="hljs-keyword">int</span>[][] shifts)</span> </span>{
        <span class="hljs-keyword">int</span>[] diff = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[s.length() + <span class="hljs-number">1</span>];
        <span class="hljs-keyword">int</span> l;
        <span class="hljs-keyword">int</span> r;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span>[] shift : shifts) {
            l = shift[<span class="hljs-number">0</span>];
            r = shift[<span class="hljs-number">1</span>] + <span class="hljs-number">1</span>;
            diff[l] += <span class="hljs-number">26</span>;
            diff[r] += <span class="hljs-number">26</span>;
            <span class="hljs-keyword">if</span> (shift[<span class="hljs-number">2</span>] == <span class="hljs-number">0</span>) {
                diff[l]--;
                diff[r]++;
            } <span class="hljs-keyword">else</span> {
                diff[l]++;
                diff[r]--;
            }
            diff[l] %= <span class="hljs-number">26</span>;
            diff[r] %= <span class="hljs-number">26</span>;
        }
        StringBuilder sb = <span class="hljs-keyword">new</span> StringBuilder();
        <span class="hljs-keyword">int</span> current = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">int</span> val;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; s.length(); ++i) {
            current += diff[i];
            val = s.charAt(i) - <span class="hljs-string">'a'</span>;
            val += current;
            val %= <span class="hljs-number">26</span>;
            sb.append((<span class="hljs-keyword">char</span>) (<span class="hljs-string">'a'</span> + val));
        }
        <span class="hljs-keyword">return</span> sb.toString();
    }
}
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/curest0x1021/Leetcode-Solution" target="_blank"><img src="https://curest0x1021.github.io/Leetcode-Solution/static/img/github.png" alt="github"/></a></footer></body></html>