<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>Find Total Time Spent by Each Employee - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://curest0x1021.github.io/Leetcode-Solution/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://curest0x1021.github.io/Leetcode-Solution/static/css/app.css"/></head><body><header><h1>1741. Find Total Time Spent by Each Employee</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://curest0x1021.github.io/Leetcode-Solution/difficulty/easy" class="tag">Easy</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/database">Database</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>Table: <code>Employees</code></p>
<pre><code class="hljs">+<span class="hljs-comment">-------------+------+</span>
| Column Name | Type |
+<span class="hljs-comment">-------------+------+</span>
| emp_id      | int  |
| event_day   | <span class="hljs-built_in">date</span> |
| in_time     | int  |
| out_time    | int  |
+<span class="hljs-comment">-------------+------+</span>
(emp_id, event_day, in_time) <span class="hljs-keyword">is</span> <span class="hljs-keyword">the</span> primary key <span class="hljs-keyword">of</span> this table.
The table shows <span class="hljs-keyword">the</span> employees' entries <span class="hljs-keyword">and</span> exits <span class="hljs-keyword">in</span> an office.
event_day <span class="hljs-keyword">is</span> <span class="hljs-keyword">the</span> <span class="hljs-built_in">day</span> <span class="hljs-keyword">at</span> which this event happened, in_time <span class="hljs-keyword">is</span> <span class="hljs-keyword">the</span> minute <span class="hljs-keyword">at</span> which <span class="hljs-keyword">the</span> employee entered <span class="hljs-keyword">the</span> office, <span class="hljs-keyword">and</span> out_time <span class="hljs-keyword">is</span> <span class="hljs-keyword">the</span> minute <span class="hljs-keyword">at</span> which they left <span class="hljs-keyword">the</span> office.
in_time <span class="hljs-keyword">and</span> out_time are <span class="hljs-keyword">between</span> <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> <span class="hljs-number">1440.</span>
It <span class="hljs-keyword">is</span> guaranteed <span class="hljs-keyword">that</span> no two events <span class="hljs-keyword">on</span> <span class="hljs-keyword">the</span> same <span class="hljs-built_in">day</span> intersect <span class="hljs-keyword">in</span> <span class="hljs-built_in">time</span>, <span class="hljs-keyword">and</span> in_time &lt; out_time.
</code></pre>
<p>&nbsp;</p>
<p>Write an SQL query to calculate the total time <strong>in minutes</strong> spent by each employee on each day at the office. Note that within one day, an employee can enter and leave more than once. The time spent in the office for a single entry is <code>out_time - in_time</code>.</p>
<p>Return the result table in <strong>any order</strong>.</p>
<p>The query result format is in the following example.</p>
<p>&nbsp;
<strong>Example 1:</strong></p>
<pre><code class="hljs">Input: 
Employees table:
+--------+------------+---------+----------+
| emp_id | event_day  | in_time | out_time |
+--------+------------+---------+----------+
| <span class="hljs-number">1</span>      | <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-28</span> | <span class="hljs-number">4</span>       | <span class="hljs-number">32</span>       |
| <span class="hljs-number">1</span>      | <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-28</span> | <span class="hljs-number">55</span>      | <span class="hljs-number">200</span>      |
| <span class="hljs-number">1</span>      | <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span> | <span class="hljs-number">1</span>       | <span class="hljs-number">42</span>       |
| <span class="hljs-number">2</span>      | <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-28</span> | <span class="hljs-number">3</span>       | <span class="hljs-number">33</span>       |
| <span class="hljs-number">2</span>      | <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-09</span> | <span class="hljs-number">47</span>      | <span class="hljs-number">74</span>       |
+--------+------------+---------+----------+
Output: 
+------------+--------+------------+
| day        | emp_id | total_time |
+------------+--------+------------+
| <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-28</span> | <span class="hljs-number">1</span>      | <span class="hljs-number">173</span>        |
| <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-28</span> | <span class="hljs-number">2</span>      | <span class="hljs-number">30</span>         |
| <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span> | <span class="hljs-number">1</span>      | <span class="hljs-number">41</span>         |
| <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-09</span> | <span class="hljs-number">2</span>      | <span class="hljs-number">27</span>         |
+------------+--------+------------+
Explanation: 
Employee <span class="hljs-number">1</span> has three events: two on day <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-28</span> with a total of (<span class="hljs-number">32</span> - <span class="hljs-number">4</span>) + (<span class="hljs-number">200</span> - <span class="hljs-number">55</span>) = <span class="hljs-number">173</span>, <span class="hljs-keyword">and</span> one on day <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span> with a total of (<span class="hljs-number">42</span> - <span class="hljs-number">1</span>) = <span class="hljs-number">41.</span>
Employee <span class="hljs-number">2</span> has two events: one on day <span class="hljs-number">2020</span><span class="hljs-number">-11</span><span class="hljs-number">-28</span> with a total of (<span class="hljs-number">33</span> - <span class="hljs-number">3</span>) = <span class="hljs-number">30</span>, <span class="hljs-keyword">and</span> one on day <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-09</span> with a total of (<span class="hljs-number">74</span> - <span class="hljs-number">47</span>) = <span class="hljs-number">27.</span>
</code></pre>
<h2 id="solution">Solution</h2>
<pre><code class="hljs lang-sql"><span class="hljs-comment"># Write your MySQL query statement below</span>
<span class="hljs-keyword">SELECT</span> event_day <span class="hljs-keyword">AS</span> <span class="hljs-string">"day"</span>, emp_id, <span class="hljs-keyword">SUM</span>(out_time) - <span class="hljs-keyword">SUM</span>(in_time) <span class="hljs-keyword">AS</span> total_time
<span class="hljs-keyword">FROM</span> Employees
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> event_day, emp_id
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/curest0x1021/Leetcode-Solution" target="_blank"><img src="https://curest0x1021.github.io/Leetcode-Solution/static/img/github.png" alt="github"/></a></footer></body></html>