<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>The Earliest and Latest Rounds Where Players Compete - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://curest0x1021.github.io/Leetcode-Solution/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://curest0x1021.github.io/Leetcode-Solution/static/css/app.css"/></head><body><header><h1>1900. The Earliest and Latest Rounds Where Players Compete</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://curest0x1021.github.io/Leetcode-Solution/difficulty/hard" class="tag">Hard</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/dynamic-programming">Dynamic Programming</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/memoization">Memoization</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>There is a tournament where <code>n</code> players are participating. The players are standing in a single row and are numbered from <code>1</code> to <code>n</code> based on their <strong>initial</strong> standing position (player <code>1</code> is the first player in the row, player <code>2</code> is the second player in the row, etc.).</p>
<p>The tournament consists of multiple rounds (starting from round number <code>1</code>). In each round, the <code>ith</code> player from the front of the row competes against the <code>ith</code> player from the end of the row, and the winner advances to the next round. When the number of players is odd for the current round, the player in the middle automatically advances to the next round.</p>
<pre><code>For example, if the row consists of players <code>1, 2, 4, 6, 7</code>
</code></pre>
<ul>
<li><p>Player <code>1</code> competes against player <code>7</code>.</p></li>
<li><p>Player <code>2</code> competes against player <code>6</code>.</p></li>
<li><p>Player <code>4</code> automatically advances to the next round.</p></li>
</ul>
<p>After each round is over, the winners are lined back up in the row based on the <strong>original ordering</strong> assigned to them initially (ascending order).</p>
<p>The players numbered <code>firstPlayer</code> and <code>secondPlayer</code> are the best in the tournament. They can win against any other player before they compete against each other. If any two other players compete against each other, either of them might win, and thus you may <strong>choose</strong> the outcome of this round.</p>
<p>Given the integers <code>n</code>, <code>firstPlayer</code>, and <code>secondPlayer</code>, return **an integer array containing two values, the *<em>earliest</em>* possible round number and the&nbsp;<strong>latest</strong> possible round number in which these two players will compete against each other, respectively**.</p>
<p>&nbsp;
<strong>Example 1:</strong></p>
<pre><code class="hljs"><span class="hljs-attr">Input:</span> <span class="hljs-string">n</span> <span class="hljs-string">=</span> <span class="hljs-number">11</span><span class="hljs-string">,</span> <span class="hljs-string">firstPlayer</span> <span class="hljs-string">=</span> <span class="hljs-number">2</span><span class="hljs-string">,</span> <span class="hljs-string">secondPlayer</span> <span class="hljs-string">=</span> <span class="hljs-number">4</span>
<span class="hljs-attr">Output:</span> <span class="hljs-string">[3,4]</span>
<span class="hljs-attr">Explanation:</span>
<span class="hljs-attr">One possible scenario which leads to the earliest round number:</span>
<span class="hljs-attr">First round:</span> <span class="hljs-number">1</span><span class="hljs-string">,</span> <span class="hljs-number">2</span><span class="hljs-string">,</span> <span class="hljs-number">3</span><span class="hljs-string">,</span> <span class="hljs-number">4</span><span class="hljs-string">,</span> <span class="hljs-number">5</span><span class="hljs-string">,</span> <span class="hljs-number">6</span><span class="hljs-string">,</span> <span class="hljs-number">7</span><span class="hljs-string">,</span> <span class="hljs-number">8</span><span class="hljs-string">,</span> <span class="hljs-number">9</span><span class="hljs-string">,</span> <span class="hljs-number">10</span><span class="hljs-string">,</span> <span class="hljs-number">11</span>
<span class="hljs-attr">Second round:</span> <span class="hljs-number">2</span><span class="hljs-string">,</span> <span class="hljs-number">3</span><span class="hljs-string">,</span> <span class="hljs-number">4</span><span class="hljs-string">,</span> <span class="hljs-number">5</span><span class="hljs-string">,</span> <span class="hljs-number">6</span><span class="hljs-string">,</span> <span class="hljs-number">11</span>
<span class="hljs-attr">Third round:</span> <span class="hljs-number">2</span><span class="hljs-string">,</span> <span class="hljs-number">3</span><span class="hljs-string">,</span> <span class="hljs-number">4</span>
<span class="hljs-attr">One possible scenario which leads to the latest round number:</span>
<span class="hljs-attr">First round:</span> <span class="hljs-number">1</span><span class="hljs-string">,</span> <span class="hljs-number">2</span><span class="hljs-string">,</span> <span class="hljs-number">3</span><span class="hljs-string">,</span> <span class="hljs-number">4</span><span class="hljs-string">,</span> <span class="hljs-number">5</span><span class="hljs-string">,</span> <span class="hljs-number">6</span><span class="hljs-string">,</span> <span class="hljs-number">7</span><span class="hljs-string">,</span> <span class="hljs-number">8</span><span class="hljs-string">,</span> <span class="hljs-number">9</span><span class="hljs-string">,</span> <span class="hljs-number">10</span><span class="hljs-string">,</span> <span class="hljs-number">11</span>
<span class="hljs-attr">Second round:</span> <span class="hljs-number">1</span><span class="hljs-string">,</span> <span class="hljs-number">2</span><span class="hljs-string">,</span> <span class="hljs-number">3</span><span class="hljs-string">,</span> <span class="hljs-number">4</span><span class="hljs-string">,</span> <span class="hljs-number">5</span><span class="hljs-string">,</span> <span class="hljs-number">6</span>
<span class="hljs-attr">Third round:</span> <span class="hljs-number">1</span><span class="hljs-string">,</span> <span class="hljs-number">2</span><span class="hljs-string">,</span> <span class="hljs-number">4</span>
<span class="hljs-attr">Fourth round:</span> <span class="hljs-number">2</span><span class="hljs-string">,</span> <span class="hljs-number">4</span>
</code></pre>
<p><strong>Example 2:</strong></p>
<pre><code class="hljs"><span class="hljs-attr">Input:</span> <span class="hljs-string">n</span> <span class="hljs-string">=</span> <span class="hljs-number">5</span><span class="hljs-string">,</span> <span class="hljs-string">firstPlayer</span> <span class="hljs-string">=</span> <span class="hljs-number">1</span><span class="hljs-string">,</span> <span class="hljs-string">secondPlayer</span> <span class="hljs-string">=</span> <span class="hljs-number">5</span>
<span class="hljs-attr">Output:</span> <span class="hljs-string">[1,1]</span>
<span class="hljs-attr">Explanation:</span> <span class="hljs-string">The</span> <span class="hljs-string">players</span> <span class="hljs-string">numbered</span> <span class="hljs-number">1</span> <span class="hljs-string">and</span> <span class="hljs-number">5</span> <span class="hljs-string">compete</span> <span class="hljs-string">in</span> <span class="hljs-string">the</span> <span class="hljs-string">first</span> <span class="hljs-string">round.</span>
<span class="hljs-string">There</span> <span class="hljs-string">is</span> <span class="hljs-literal">no</span> <span class="hljs-string">way</span> <span class="hljs-string">to</span> <span class="hljs-string">make</span> <span class="hljs-string">them</span> <span class="hljs-string">compete</span> <span class="hljs-string">in</span> <span class="hljs-string">any</span> <span class="hljs-string">other</span> <span class="hljs-string">round.</span>
</code></pre>
<p>&nbsp;
<strong>Constraints:</strong></p>
<ul>
<li><p><code>2 &lt;= n &lt;= 28</code></p></li>
<li><p><code>1 &lt;= firstPlayer &lt; secondPlayer &lt;= n</code></p></li>
</ul>
<h2 id="solution">Solution</h2>
<pre><code class="hljs lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span>[] earliestAndLatest(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> firstPlayer, <span class="hljs-keyword">int</span> secondPlayer) {
        <span class="hljs-keyword">int</span> p1 = Math.min(firstPlayer, secondPlayer);
        <span class="hljs-keyword">int</span> p2 = Math.max(firstPlayer, secondPlayer);
        <span class="hljs-keyword">if</span> (p1 + p2 == n + <span class="hljs-number">1</span>) {
            <span class="hljs-comment">// p1 and p2 compete in the first round</span>
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] {<span class="hljs-number">1</span>, <span class="hljs-number">1</span>};
        }
        <span class="hljs-keyword">if</span> (n == <span class="hljs-number">3</span> || n == <span class="hljs-number">4</span>) {
            <span class="hljs-comment">// p1 and p2 must compete in the second round (only two rounds).</span>
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] {<span class="hljs-number">2</span>, <span class="hljs-number">2</span>};
        }
        <span class="hljs-comment">// Flip to make p1 be more closer to left than p2 to right end for convenience</span>
        <span class="hljs-keyword">if</span> (p1 - <span class="hljs-number">1</span> &gt; n - p2) {
            <span class="hljs-keyword">int</span> t = n + <span class="hljs-number">1</span> - p1;
            p1 = n + <span class="hljs-number">1</span> - p2;
            p2 = t;
        }
        <span class="hljs-keyword">int</span> m = (n + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>;
        <span class="hljs-keyword">int</span> min = n;
        <span class="hljs-keyword">int</span> max = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (p2 * <span class="hljs-number">2</span> &lt;= n + <span class="hljs-number">1</span>) {
            <span class="hljs-comment">// p2 is in first half (n odd or even) or exact middle (n odd)</span>
            <span class="hljs-comment">//   1  2  3  4  5  6  7  8  9 10 11 12 13 14</span>
            <span class="hljs-comment">//   .  .  *  .  .  *  .  .  .  .  .  .  .  .</span>
            <span class="hljs-comment">//         ^        ^</span>
            <span class="hljs-comment">//         p1       p2</span>
            <span class="hljs-comment">// Group A are players in front of p1</span>
            <span class="hljs-comment">// Group B are players between p1 and p2</span>
            <span class="hljs-keyword">int</span> a = p1 - <span class="hljs-number">1</span>;
            <span class="hljs-keyword">int</span> b = p2 - p1 - <span class="hljs-number">1</span>;
            <span class="hljs-comment">// i represents number of front players in A wins</span>
            <span class="hljs-comment">// j represents number of front players in B wins</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= a; i++) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= b; j++) {
                    <span class="hljs-keyword">int</span>[] ret = earliestAndLatest(m, i + <span class="hljs-number">1</span>, i + j + <span class="hljs-number">2</span>);
                    min = Math.min(min, <span class="hljs-number">1</span> + ret[<span class="hljs-number">0</span>]);
                    max = Math.max(max, <span class="hljs-number">1</span> + ret[<span class="hljs-number">1</span>]);
                }
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// p2 is in the later half (and has &gt;= p1 distance to the end)</span>
            <span class="hljs-comment">//    1  2  3  4  5  6  7  8  9 10 11 12 13 14</span>
            <span class="hljs-comment">//    .  .  *  .  .  .  .  .  .  *  .  .  .  .</span>
            <span class="hljs-comment">//          ^                    ^</span>
            <span class="hljs-comment">//          p1   p4             p2    p3</span>
            <span class="hljs-comment">//                ^--------------^</span>
            <span class="hljs-comment">//          ^--------------------------^</span>
            <span class="hljs-keyword">int</span> p4 = n + <span class="hljs-number">1</span> - p2;
            <span class="hljs-keyword">int</span> a = p1 - <span class="hljs-number">1</span>;
            <span class="hljs-keyword">int</span> b = p4 - p1 - <span class="hljs-number">1</span>;
            <span class="hljs-comment">// Group C are players between p4 and p2, (c+1)/2 will advance to next round.</span>
            <span class="hljs-keyword">int</span> c = p2 - p4 - <span class="hljs-number">1</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= a; i++) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= b; j++) {
                    <span class="hljs-keyword">int</span>[] ret = earliestAndLatest(m, i + <span class="hljs-number">1</span>, i + j + <span class="hljs-number">1</span> + (c + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span> + <span class="hljs-number">1</span>);
                    min = Math.min(min, <span class="hljs-number">1</span> + ret[<span class="hljs-number">0</span>]);
                    max = Math.max(max, <span class="hljs-number">1</span> + ret[<span class="hljs-number">1</span>]);
                }
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] {min, max};
    }
}
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/curest0x1021/Leetcode-Solution" target="_blank"><img src="https://curest0x1021.github.io/Leetcode-Solution/static/img/github.png" alt="github"/></a></footer></body></html>