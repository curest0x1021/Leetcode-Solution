<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>Sales Analysis III - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://curest0x1021.github.io/Leetcode-Solution/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://curest0x1021.github.io/Leetcode-Solution/static/css/app.css"/></head><body><header><h1>1084. Sales Analysis III</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://curest0x1021.github.io/Leetcode-Solution/difficulty/easy" class="tag">Easy</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/database">Database</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/problem/sales-analysis-ii.html">Sales Analysis II</a></li></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>Table: <code>Product</code></p>
<pre><code class="hljs"><span class="hljs-code">+--------------+</span>---------+
<span class="hljs-section">| Column Name  | Type    |
+--------------+---------+</span>
| product<span class="hljs-emphasis">_id   | int     |
| product_</span>name | varchar |
<span class="hljs-section">| unit_price   | int     |
+--------------+---------+</span>
product<span class="hljs-emphasis">_id is the primary key of this table.
Each row of this table indicates the name and the price of each product.</span>
</code></pre>
<p>Table: <code>Sales</code></p>
<pre><code class="hljs">+<span class="hljs-comment">-------------+---------+</span>
| <span class="hljs-keyword">Column</span> <span class="hljs-type">Name</span> | <span class="hljs-keyword">Type</span>    |
+<span class="hljs-comment">-------------+---------+</span>
| seller_id   | <span class="hljs-type">int</span>     |
| product_id  | <span class="hljs-type">int</span>     |
| buyer_id    | <span class="hljs-type">int</span>     |
| sale_date   | <span class="hljs-type">date</span>    |
| quantity    | <span class="hljs-type">int</span>     |
| price       | <span class="hljs-type">int</span>     |
+<span class="hljs-comment">-------------+---------+</span>
This <span class="hljs-keyword">table</span> has <span class="hljs-keyword">no</span> <span class="hljs-keyword">primary key</span>, it can have repeated <span class="hljs-keyword">rows</span>.
product_id <span class="hljs-keyword">is</span> a <span class="hljs-keyword">foreign key</span> <span class="hljs-keyword">to</span> the Product <span class="hljs-keyword">table</span>.
<span class="hljs-keyword">Each</span> <span class="hljs-keyword">row</span> <span class="hljs-keyword">of</span> this <span class="hljs-keyword">table</span> contains <span class="hljs-keyword">some</span> information about one sale.
</code></pre>
<p>&nbsp;</p>
<p>Write an SQL query that reports the <strong>products</strong> that were <strong>only</strong> sold in the first quarter of <code>2019</code>. That is, between <code>2019-01-01</code> and <code>2019-03-31</code> inclusive.</p>
<p>Return the result table in <strong>any order</strong>.</p>
<p>The query result format is in the following example.</p>
<p>&nbsp;
<strong>Example 1:</strong></p>
<pre><code class="hljs">Input: 
<span class="hljs-section">Product table:
+------------+--------------+------------+</span>
<span class="hljs-section">| product_id | product_name | unit_price |
+------------+--------------+------------+</span>
| 1          | S8           | 1000       |
| 2          | G4           | 800        |
<span class="hljs-section">| 3          | iPhone       | 1400       |
+------------+--------------+------------+</span>
<span class="hljs-section">Sales table:
+-----------+------------+----------+------------+----------+-------+</span>
<span class="hljs-section">| seller_id | product_id | buyer_id | sale_date  | quantity | price |
+-----------+------------+----------+------------+----------+-------+</span>
| 1         | 1          | 1        | 2019-01-21 | 2        | 2000  |
| 1         | 2          | 2        | 2019-02-17 | 1        | 800   |
| 2         | 2          | 3        | 2019-06-02 | 1        | 800   |
<span class="hljs-section">| 3         | 3          | 4        | 2019-05-13 | 2        | 2800  |
+-----------+------------+----------+------------+----------+-------+</span>
<span class="hljs-section">Output: 
+-------------+--------------+</span>
<span class="hljs-section">| product_id  | product_name |
+-------------+--------------+</span>
<span class="hljs-section">| 1           | S8           |
+-------------+--------------+</span>
Explanation: 
The product with id 1 was only sold in the spring of 2019.
The product with id 2 was sold in the spring of 2019 but was also sold after the spring of 2019.
The product with id 3 was sold after spring 2019.
We return only product 1 as it is the product that was only sold in the spring of 2019.
</code></pre>
<h2 id="solution">Solution</h2>
<pre><code class="hljs lang-sql"><span class="hljs-comment"># Write your MySQL query statement below</span>
<span class="hljs-keyword">SELECT</span>
    <span class="hljs-keyword">DISTINCT</span>
    product_id,
    product_name
<span class="hljs-keyword">FROM</span> (
<span class="hljs-keyword">SELECT</span> 
    s.product_id,
    p.product_name
<span class="hljs-keyword">FROM</span> sales <span class="hljs-keyword">as</span> s <span class="hljs-keyword">JOIN</span> product <span class="hljs-keyword">as</span> p
<span class="hljs-keyword">ON</span> s.product_id = p.product_id
    ) x 
<span class="hljs-keyword">WHERE</span> product_id <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (
                        <span class="hljs-keyword">SELECT</span>
                            product_id
                        <span class="hljs-keyword">FROM</span> sales
                        <span class="hljs-keyword">WHERE</span> sale_date <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">BETWEEN</span> <span class="hljs-string">'2019-01-01'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'2019-03-31'</span>
                        )
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p></article></main><footer><a href="https://github.com/curest0x1021/Leetcode-Solution" target="_blank"><img src="https://curest0x1021.github.io/Leetcode-Solution/static/img/github.png" alt="github"/></a></footer></body></html>