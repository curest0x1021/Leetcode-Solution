<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>Sequentially Ordinal Rank Tracker - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://curest0x1021.github.io/Leetcode-Solution/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://curest0x1021.github.io/Leetcode-Solution/static/css/app.css"/></head><body><header><h1>2102. Sequentially Ordinal Rank Tracker</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://curest0x1021.github.io/Leetcode-Solution/difficulty/hard" class="tag">Hard</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/design">Design</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/heap-priority-queue">Heap (Priority Queue)</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/data-stream">Data Stream</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/ordered-set">Ordered Set</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/problem/find-median-from-data-stream.html">Find Median from Data Stream</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/problem/kth-largest-element-in-a-stream.html">Kth Largest Element in a Stream</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/problem/finding-mk-average.html">Finding MK Average</a></li></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>A scenic location is represented by its <code>name</code> and attractiveness <code>score</code>, where <code>name</code> is a <strong>unique</strong> string among all locations and <code>score</code> is an integer. Locations can be ranked from the best to the worst. The <strong>higher</strong> the score, the better the location. If the scores of two locations are equal, then the location with the <strong>lexicographically smaller</strong> name is better.</p>
<p>You are building a system that tracks the ranking of locations with the system initially starting with no locations. It supports:</p>
<ul>
<li><p><strong>Adding</strong> scenic locations, <strong>one at a time</strong>.
<strong>Querying</strong> the <code>ith</code> <strong>best</strong> location of <strong>all locations already added</strong>, where <code>i</code> is the number of times the system has been queried (including the current query).</p></li>
<li><p>For example, when the system is queried for the <code>4th</code> time, it returns the <code>4th</code> best location of all locations already added.</p></li>
</ul>
<p>Note that the test data are generated so that <strong>at any time</strong>, the number of queries <strong>does not exceed</strong> the number of locations added to the system.</p>
<p>Implement the <code>SORTracker</code> class:</p>
<ul>
<li><p><code>SORTracker()</code> Initializes the tracker system.</p></li>
<li><p><code>void add(string name, int score)</code> Adds a scenic location with <code>name</code> and <code>score</code> to the system.</p></li>
<li><p><code>string get()</code> Queries and returns the <code>ith</code> best location, where <code>i</code> is the number of times this method has been invoked (including this invocation).</p></li>
</ul>
<p>&nbsp;
<strong>Example 1:</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">Input</span>
["SORTracker", "add", "add", "get", "add", "get", "add", "get", "add", "get", "add", "get", "get"]
[[], ["bradford", <span class="hljs-number">2</span>], ["branford", <span class="hljs-number">3</span>], [], ["alps", <span class="hljs-number">2</span>], [], ["orland", <span class="hljs-number">2</span>], [], ["orlando", <span class="hljs-number">3</span>], [], ["alpine", <span class="hljs-number">2</span>], [], []]
Output
[<span class="hljs-keyword">null</span>, <span class="hljs-keyword">null</span>, <span class="hljs-keyword">null</span>, "branford", <span class="hljs-keyword">null</span>, "alps", <span class="hljs-keyword">null</span>, "bradford", <span class="hljs-keyword">null</span>, "bradford", <span class="hljs-keyword">null</span>, "bradford", "orland"]

Explanation
SORTracker tracker = <span class="hljs-built_in">new</span> SORTracker(); // Initialize the tracker <span class="hljs-keyword">system</span>.
tracker.<span class="hljs-keyword">add</span>("bradford", <span class="hljs-number">2</span>); // <span class="hljs-keyword">Add</span> <span class="hljs-keyword">location</span> <span class="hljs-keyword">with</span> <span class="hljs-type">name</span>="bradford" <span class="hljs-keyword">and</span> score=<span class="hljs-number">2</span> <span class="hljs-keyword">to</span> the <span class="hljs-keyword">system</span>.
tracker.<span class="hljs-keyword">add</span>("branford", <span class="hljs-number">3</span>); // <span class="hljs-keyword">Add</span> <span class="hljs-keyword">location</span> <span class="hljs-keyword">with</span> <span class="hljs-type">name</span>="branford" <span class="hljs-keyword">and</span> score=<span class="hljs-number">3</span> <span class="hljs-keyword">to</span> the <span class="hljs-keyword">system</span>.
tracker.<span class="hljs-keyword">get</span>();              // The sorted locations, <span class="hljs-keyword">from</span> best <span class="hljs-keyword">to</span> worst, are: branford, bradford.
                            // Note that branford precedes bradford due <span class="hljs-keyword">to</span> its higher score (<span class="hljs-number">3</span> &gt; <span class="hljs-number">2</span>).
                            // This <span class="hljs-keyword">is</span> the <span class="hljs-number">1</span>st <span class="hljs-type">time</span> <span class="hljs-keyword">get</span>() <span class="hljs-keyword">is</span> <span class="hljs-keyword">called</span>, so <span class="hljs-keyword">return</span> the best <span class="hljs-keyword">location</span>: "branford".
tracker.<span class="hljs-keyword">add</span>("alps", <span class="hljs-number">2</span>);     // <span class="hljs-keyword">Add</span> <span class="hljs-keyword">location</span> <span class="hljs-keyword">with</span> <span class="hljs-type">name</span>="alps" <span class="hljs-keyword">and</span> score=<span class="hljs-number">2</span> <span class="hljs-keyword">to</span> the <span class="hljs-keyword">system</span>.
tracker.<span class="hljs-keyword">get</span>();              // Sorted locations: branford, alps, bradford.
                            // Note that alps precedes bradford even though they have the same score (<span class="hljs-number">2</span>).
                            // This <span class="hljs-keyword">is</span> because "alps" <span class="hljs-keyword">is</span> lexicographically smaller than "bradford".
                            // <span class="hljs-keyword">Return</span> the <span class="hljs-number">2</span>nd best <span class="hljs-keyword">location</span> "alps", <span class="hljs-keyword">as</span> it <span class="hljs-keyword">is</span> the <span class="hljs-number">2</span>nd <span class="hljs-type">time</span> <span class="hljs-keyword">get</span>() <span class="hljs-keyword">is</span> <span class="hljs-keyword">called</span>.
tracker.<span class="hljs-keyword">add</span>("orland", <span class="hljs-number">2</span>);   // <span class="hljs-keyword">Add</span> <span class="hljs-keyword">location</span> <span class="hljs-keyword">with</span> <span class="hljs-type">name</span>="orland" <span class="hljs-keyword">and</span> score=<span class="hljs-number">2</span> <span class="hljs-keyword">to</span> the <span class="hljs-keyword">system</span>.
tracker.<span class="hljs-keyword">get</span>();              // Sorted locations: branford, alps, bradford, orland.
                            // <span class="hljs-keyword">Return</span> "bradford", <span class="hljs-keyword">as</span> it <span class="hljs-keyword">is</span> the <span class="hljs-number">3</span>rd <span class="hljs-type">time</span> <span class="hljs-keyword">get</span>() <span class="hljs-keyword">is</span> <span class="hljs-keyword">called</span>.
tracker.<span class="hljs-keyword">add</span>("orlando", <span class="hljs-number">3</span>);  // <span class="hljs-keyword">Add</span> <span class="hljs-keyword">location</span> <span class="hljs-keyword">with</span> <span class="hljs-type">name</span>="orlando" <span class="hljs-keyword">and</span> score=<span class="hljs-number">3</span> <span class="hljs-keyword">to</span> the <span class="hljs-keyword">system</span>.
tracker.<span class="hljs-keyword">get</span>();              // Sorted locations: branford, orlando, alps, bradford, orland.
                            // <span class="hljs-keyword">Return</span> "bradford".
tracker.<span class="hljs-keyword">add</span>("alpine", <span class="hljs-number">2</span>);   // <span class="hljs-keyword">Add</span> <span class="hljs-keyword">location</span> <span class="hljs-keyword">with</span> <span class="hljs-type">name</span>="alpine" <span class="hljs-keyword">and</span> score=<span class="hljs-number">2</span> <span class="hljs-keyword">to</span> the <span class="hljs-keyword">system</span>.
tracker.<span class="hljs-keyword">get</span>();              // Sorted locations: branford, orlando, alpine, alps, bradford, orland.
                            // <span class="hljs-keyword">Return</span> "bradford".
tracker.<span class="hljs-keyword">get</span>();              // Sorted locations: branford, orlando, alpine, alps, bradford, orland.
                            // <span class="hljs-keyword">Return</span> "orland".
</code></pre>
<p>&nbsp;
<strong>Constraints:</strong></p>
<ul>
<li><p><code>name</code> consists of lowercase English letters, and is unique among all locations.</p></li>
<li><p><code>1 &lt;= name.length &lt;= 10</code></p></li>
<li><p><code>1 &lt;= score &lt;= 105</code></p></li>
<li><p>At any time, the number of calls to <code>get</code> does not exceed the number of calls to <code>add</code>.</p></li>
<li><p>At most <code>4 * 104</code> calls <strong>in total</strong> will be made to <code>add</code> and <code>get</code>.</p></li>
</ul>
<h2 id="solution">Solution</h2>
<pre><code class="hljs lang-java"><span class="hljs-keyword">import</span> java.util.TreeSet;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SORTracker</span> </span>{
    <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Location</span> </span>{
        String name;
        <span class="hljs-keyword">int</span> score;

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Location</span><span class="hljs-params">(String name, <span class="hljs-keyword">int</span> score)</span> </span>{
            <span class="hljs-keyword">this</span>.name = name;
            <span class="hljs-keyword">this</span>.score = score;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> name;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getScore</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> score;
        }
    }

    TreeSet&lt;Location&gt; tSet1;
    TreeSet&lt;Location&gt; tSet2;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">SORTracker</span><span class="hljs-params">()</span> </span>{
        tSet1 =
                <span class="hljs-keyword">new</span> TreeSet&lt;&gt;(
                        (a, b) -&gt; {
                            <span class="hljs-keyword">if</span> (a.score != b.score) {
                                <span class="hljs-keyword">return</span> b.getScore() - a.getScore();
                            } <span class="hljs-keyword">else</span> {
                                <span class="hljs-keyword">return</span> a.getName().compareTo(b.getName());
                            }
                        });

        tSet2 =
                <span class="hljs-keyword">new</span> TreeSet&lt;&gt;(
                        (a, b) -&gt; {
                            <span class="hljs-keyword">if</span> (a.score != b.score) {
                                <span class="hljs-keyword">return</span> b.getScore() - a.getScore();
                            } <span class="hljs-keyword">else</span> {
                                <span class="hljs-keyword">return</span> a.getName().compareTo(b.getName());
                            }
                        });
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(String name, <span class="hljs-keyword">int</span> score)</span> </span>{
        tSet1.add(<span class="hljs-keyword">new</span> Location(name, score));
        tSet2.add(tSet1.pollLast());
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">get</span><span class="hljs-params">()</span> </span>{
        Location res = tSet2.pollFirst();
        tSet1.add(res);
        <span class="hljs-keyword">assert</span> res != <span class="hljs-keyword">null</span>;
        <span class="hljs-keyword">return</span> res.name;
    }
}
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/curest0x1021/Leetcode-Solution" target="_blank"><img src="https://curest0x1021.github.io/Leetcode-Solution/static/img/github.png" alt="github"/></a></footer></body></html>