<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>Image Smoother - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://baffinlee.com/leetcode-javascript/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://baffinlee.com/leetcode-javascript/static/css/app.css"/></head><body><header><h1>661. Image Smoother</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://baffinlee.com/leetcode-javascript/difficulty/easy" class="tag">Easy</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://baffinlee.com/leetcode-javascript/tag/array">Array</a></li><li><a href="https://baffinlee.com/leetcode-javascript/tag/matrix">Matrix</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>An <strong>image smoother</strong> is a filter of the size <code>3 x 3</code> that can be applied to each cell of an image by rounding down the average of the cell and the eight surrounding cells (i.e., the average of the nine cells in the blue smoother). If one or more of the surrounding cells of a cell is not present, we do not consider it in the average (i.e., the average of the four cells in the red smoother).</p>
<p><img src="https://assets.leetcode.com/uploads/2021/05/03/smoother-grid.jpg" alt="" /></p>
<p>Given an <code>m x n</code> integer matrix <code>img</code> representing the grayscale of an image, return <strong>the image after applying the smoother on each cell of it</strong>.</p>
<p>&nbsp;
<strong>Example 1:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2021/05/03/smooth-grid.jpg" alt="" /></p>
<pre><code class="hljs">Input: img = [[<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>]]
Output: [[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]]
Explanation:
For the points (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>), (<span class="hljs-number">0</span>,<span class="hljs-number">2</span>), (<span class="hljs-number">2</span>,<span class="hljs-number">0</span>), (<span class="hljs-number">2</span>,<span class="hljs-number">2</span>): floor(<span class="hljs-number">3</span>/<span class="hljs-number">4</span>) = floor(<span class="hljs-number">0.75</span>) = <span class="hljs-number">0</span>
For the points (<span class="hljs-number">0</span>,<span class="hljs-number">1</span>), (<span class="hljs-number">1</span>,<span class="hljs-number">0</span>), (<span class="hljs-number">1</span>,<span class="hljs-number">2</span>), (<span class="hljs-number">2</span>,<span class="hljs-number">1</span>): floor(<span class="hljs-number">5</span>/<span class="hljs-number">6</span>) = floor(<span class="hljs-number">0.83333333</span>) = <span class="hljs-number">0</span>
For the point (<span class="hljs-number">1</span>,<span class="hljs-number">1</span>): floor(<span class="hljs-number">8</span>/<span class="hljs-number">9</span>) = floor(<span class="hljs-number">0.88888889</span>) = <span class="hljs-number">0</span>
</code></pre>
<p><strong>Example 2:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2021/05/03/smooth2-grid.jpg" alt="" /></p>
<pre><code class="hljs">Input: img = [[<span class="hljs-number">100</span>,<span class="hljs-number">200</span>,<span class="hljs-number">100</span>],[<span class="hljs-number">200</span>,<span class="hljs-number">50</span>,<span class="hljs-number">200</span>],[<span class="hljs-number">100</span>,<span class="hljs-number">200</span>,<span class="hljs-number">100</span>]]
Output: [[<span class="hljs-number">137</span>,<span class="hljs-number">141</span>,<span class="hljs-number">137</span>],[<span class="hljs-number">141</span>,<span class="hljs-number">138</span>,<span class="hljs-number">141</span>],[<span class="hljs-number">137</span>,<span class="hljs-number">141</span>,<span class="hljs-number">137</span>]]
Explanation:
For the points (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>), (<span class="hljs-number">0</span>,<span class="hljs-number">2</span>), (<span class="hljs-number">2</span>,<span class="hljs-number">0</span>), (<span class="hljs-number">2</span>,<span class="hljs-number">2</span>): floor((<span class="hljs-number">100</span>+<span class="hljs-number">200</span>+<span class="hljs-number">200</span>+<span class="hljs-number">50</span>)/<span class="hljs-number">4</span>) = floor(<span class="hljs-number">137.5</span>) = <span class="hljs-number">137</span>
For the points (<span class="hljs-number">0</span>,<span class="hljs-number">1</span>), (<span class="hljs-number">1</span>,<span class="hljs-number">0</span>), (<span class="hljs-number">1</span>,<span class="hljs-number">2</span>), (<span class="hljs-number">2</span>,<span class="hljs-number">1</span>): floor((<span class="hljs-number">200</span>+<span class="hljs-number">200</span>+<span class="hljs-number">50</span>+<span class="hljs-number">200</span>+<span class="hljs-number">100</span>+<span class="hljs-number">100</span>)/<span class="hljs-number">6</span>) = floor(<span class="hljs-number">141.666667</span>) = <span class="hljs-number">141</span>
For the point (<span class="hljs-number">1</span>,<span class="hljs-number">1</span>): floor((<span class="hljs-number">50</span>+<span class="hljs-number">200</span>+<span class="hljs-number">200</span>+<span class="hljs-number">200</span>+<span class="hljs-number">200</span>+<span class="hljs-number">100</span>+<span class="hljs-number">100</span>+<span class="hljs-number">100</span>+<span class="hljs-number">100</span>)/<span class="hljs-number">9</span>) = floor(<span class="hljs-number">138.888889</span>) = <span class="hljs-number">138</span>
</code></pre>
<p>&nbsp;
<strong>Constraints:</strong></p>
<ul>
<li><p><code>m == img.length</code></p></li>
<li><p><code>n == img[i].length</code></p></li>
<li><p><code>1 &lt;= m, n &lt;= 200</code></p></li>
<li><p><code>0 &lt;= img[i][j] &lt;= 255</code></p></li>
</ul>
<h2 id="solution-java">Solution (Java)</h2>
<pre><code class="hljs lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span>[][] imageSmoother(<span class="hljs-keyword">int</span>[][] matrix) {
        <span class="hljs-keyword">if</span> (matrix == <span class="hljs-keyword">null</span> || matrix.length == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> matrix;
        }
        <span class="hljs-keyword">int</span> m = matrix.length;
        <span class="hljs-keyword">int</span> n = matrix[<span class="hljs-number">0</span>].length;
        <span class="hljs-keyword">int</span>[][] result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[m][n];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++) {
                bfs(matrix, i, j, result, m, n);
            }
        }
        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[][] matrix, <span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> j, <span class="hljs-keyword">int</span>[][] result, <span class="hljs-keyword">int</span> m, <span class="hljs-keyword">int</span> n)</span> </span>{
        <span class="hljs-keyword">int</span> sum = matrix[i][j];
        <span class="hljs-keyword">int</span> denominator = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (j + <span class="hljs-number">1</span> &lt; n) {
            sum += matrix[i][j + <span class="hljs-number">1</span>];
            denominator++;
        }
        <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; m &amp;&amp; j + <span class="hljs-number">1</span> &lt; n) {
            sum += matrix[i + <span class="hljs-number">1</span>][j + <span class="hljs-number">1</span>];
            denominator++;
        }
        <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; m) {
            sum += matrix[i + <span class="hljs-number">1</span>][j];
            denominator++;
        }
        <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; m &amp;&amp; j - <span class="hljs-number">1</span> &gt;= <span class="hljs-number">0</span>) {
            sum += matrix[i + <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>];
            denominator++;
        }
        <span class="hljs-keyword">if</span> (j - <span class="hljs-number">1</span> &gt;= <span class="hljs-number">0</span>) {
            sum += matrix[i][j - <span class="hljs-number">1</span>];
            denominator++;
        }
        <span class="hljs-keyword">if</span> (i - <span class="hljs-number">1</span> &gt;= <span class="hljs-number">0</span> &amp;&amp; j - <span class="hljs-number">1</span> &gt;= <span class="hljs-number">0</span>) {
            sum += matrix[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>];
            denominator++;
        }
        <span class="hljs-keyword">if</span> (i - <span class="hljs-number">1</span> &gt;= <span class="hljs-number">0</span>) {
            sum += matrix[i - <span class="hljs-number">1</span>][j];
            denominator++;
        }
        <span class="hljs-keyword">if</span> (i - <span class="hljs-number">1</span> &gt;= <span class="hljs-number">0</span> &amp;&amp; j + <span class="hljs-number">1</span> &lt; n) {
            sum += matrix[i - <span class="hljs-number">1</span>][j + <span class="hljs-number">1</span>];
            denominator++;
        }
        result[i][j] = sum / denominator;
    }
}
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/BaffinLee/leetcode-javascript" target="_blank"><img src="https://baffinlee.com/leetcode-javascript/static/img/github.png" alt="github"/></a></footer></body></html>