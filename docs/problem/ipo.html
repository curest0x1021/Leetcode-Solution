<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>IPO - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://baffinlee.com/leetcode-javascript/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://baffinlee.com/leetcode-javascript/static/css/app.css"/></head><body><header><h1>502. IPO</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://baffinlee.com/leetcode-javascript/difficulty/hard" class="tag">Hard</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://baffinlee.com/leetcode-javascript/tag/array">Array</a></li><li><a href="https://baffinlee.com/leetcode-javascript/tag/greedy">Greedy</a></li><li><a href="https://baffinlee.com/leetcode-javascript/tag/sorting">Sorting</a></li><li><a href="https://baffinlee.com/leetcode-javascript/tag/heap-priority-queue">Heap (Priority Queue)</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>Suppose LeetCode will start its <strong>IPO</strong> soon. In order to sell a good price of its shares to Venture Capital, LeetCode would like to work on some projects to increase its capital before the <strong>IPO</strong>. Since it has limited resources, it can only finish at most <code>k</code> distinct projects before the <strong>IPO</strong>. Help LeetCode design the best way to maximize its total capital after finishing at most <code>k</code> distinct projects.</p>
<p>You are given <code>n</code> projects where the <code>ith</code> project has a pure profit <code>profits[i]</code> and a minimum capital of <code>capital[i]</code> is needed to start it.</p>
<p>Initially, you have <code>w</code> capital. When you finish a project, you will obtain its pure profit and the profit will be added to your total capital.</p>
<p>Pick a list of <strong>at most</strong> <code>k</code> distinct projects from given projects to <strong>maximize your final capital</strong>, and return <strong>the final maximized capital</strong>.</p>
<p>The answer is guaranteed to fit in a 32-bit signed integer.</p>
<p>&nbsp;
<strong>Example 1:</strong></p>
<pre><code class="hljs">Input: k = <span class="hljs-number">2</span>, w = <span class="hljs-number">0</span>, profits = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>], capital = [<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>]
Output: <span class="hljs-number">4</span>
Explanation: Since your initial capital <span class="hljs-keyword">is</span> <span class="hljs-number">0</span>, you can only start the project indexed <span class="hljs-number">0.</span>
After finishing it you will obtain profit <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> your capital becomes <span class="hljs-number">1.</span>
With capital <span class="hljs-number">1</span>, you can either start the project indexed <span class="hljs-number">1</span> <span class="hljs-keyword">or</span> the project indexed <span class="hljs-number">2.</span>
Since you can choose at most <span class="hljs-number">2</span> projects, you need to finish the project indexed <span class="hljs-number">2</span> to <span class="hljs-keyword">get</span> the maximum capital.
Therefore, output the <span class="hljs-keyword">final</span> maximized capital, which <span class="hljs-keyword">is</span> <span class="hljs-number">0</span> + <span class="hljs-number">1</span> + <span class="hljs-number">3</span> = <span class="hljs-number">4.</span>
</code></pre>
<p><strong>Example 2:</strong></p>
<pre><code class="hljs">Input: k = <span class="hljs-number">3</span>, w = <span class="hljs-number">0</span>, profits = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>], capital = [<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]
Output: <span class="hljs-number">6</span>
</code></pre>
<p>&nbsp;
<strong>Constraints:</strong></p>
<ul>
<li><p><code>1 &lt;= k &lt;= 105</code></p></li>
<li><p><code>0 &lt;= w &lt;= 109</code></p></li>
<li><p><code>n == profits.length</code></p></li>
<li><p><code>n == capital.length</code></p></li>
<li><p><code>1 &lt;= n &lt;= 105</code></p></li>
<li><p><code>0 &lt;= profits[i] &lt;= 104</code></p></li>
<li><p><code>0 &lt;= capital[i] &lt;= 109</code></p></li>
</ul>
<h2 id="solution-java">Solution (Java)</h2>
<pre><code class="hljs lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">findMaximizedCapital</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k, <span class="hljs-keyword">int</span> w, <span class="hljs-keyword">int</span>[] profits, <span class="hljs-keyword">int</span>[] capital)</span> </span>{
        PriorityQueue&lt;<span class="hljs-keyword">int</span>[]&gt; minCapital =
                <span class="hljs-keyword">new</span> PriorityQueue&lt;&gt;(Comparator.comparingInt((<span class="hljs-keyword">int</span>[] a) -&gt; a[<span class="hljs-number">1</span>]));
        PriorityQueue&lt;<span class="hljs-keyword">int</span>[]&gt; maxProfit = <span class="hljs-keyword">new</span> PriorityQueue&lt;&gt;((<span class="hljs-keyword">int</span>[] a, <span class="hljs-keyword">int</span>[] b) -&gt; b[<span class="hljs-number">0</span>] - a[<span class="hljs-number">0</span>]);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; profits.length; i++) {
            <span class="hljs-keyword">if</span> (w &gt;= capital[i]) {
                maxProfit.offer(<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] {profits[i], capital[i]});
            } <span class="hljs-keyword">else</span> {
                minCapital.offer(<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] {profits[i], capital[i]});
            }
        }
        <span class="hljs-keyword">int</span> count = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span> (count &lt; k &amp;&amp; !maxProfit.isEmpty()) {
            <span class="hljs-keyword">int</span>[] temp = maxProfit.poll();
            w += temp[<span class="hljs-number">0</span>];
            count += <span class="hljs-number">1</span>;
            <span class="hljs-keyword">while</span> (!minCapital.isEmpty() &amp;&amp; minCapital.peek()[<span class="hljs-number">1</span>] &lt;= w) {
                maxProfit.offer(minCapital.poll());
            }
        }
        <span class="hljs-keyword">return</span> w;
    }
}
</code></pre>
<h2 id="solution-c">Solution (C++)</h2>
<pre><code class="hljs lang-cpp"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> {</span>
<span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">findMaximizedCapital</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k, <span class="hljs-keyword">int</span> W, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; Profits, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; Capital)</span> </span>{    
    priority_queue&lt;<span class="hljs-keyword">int</span>&gt; doable;         <span class="hljs-comment">// sorted by profit high to low.</span>
    <span class="hljs-built_in">multiset</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; undoable;  <span class="hljs-comment">// {capital, profit}</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; Profits.size(); ++i) {
      <span class="hljs-keyword">if</span> (Profits[i] &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">continue</span>;
      <span class="hljs-keyword">if</span> (Capital[i] &lt;= W) 
        doable.push(Profits[i]);
      <span class="hljs-keyword">else</span>
        undoable.emplace(Capital[i], Profits[i]);
    }
    <span class="hljs-keyword">auto</span> it = undoable.cbegin();
    <span class="hljs-keyword">while</span> (!doable.empty() &amp;&amp; k--) {
      W += doable.top(); doable.pop();      
      <span class="hljs-keyword">while</span> (it != undoable.cend() &amp;&amp; it-&gt;first &lt;= W)
        doable.push(it++-&gt;second);      
    }
    <span class="hljs-keyword">return</span> W;
  }
};
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/BaffinLee/leetcode-javascript" target="_blank"><img src="https://baffinlee.com/leetcode-javascript/static/img/github.png" alt="github"/></a></footer></body></html>