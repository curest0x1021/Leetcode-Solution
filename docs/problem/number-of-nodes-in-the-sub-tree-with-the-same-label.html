<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>Number of Nodes in the Sub-Tree With the Same Label - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://curest0x1021.github.io/Leetcode-Solution/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://curest0x1021.github.io/Leetcode-Solution/static/css/app.css"/></head><body><header><h1>1519. Number of Nodes in the Sub-Tree With the Same Label</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://curest0x1021.github.io/Leetcode-Solution/difficulty/medium" class="tag">Medium</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/hash-table">Hash Table</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/tree">Tree</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/depth-first-search">Depth-First Search</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/breadth-first-search">Breadth-First Search</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/counting">Counting</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>You are given a tree (i.e. a connected, undirected graph that has no cycles) consisting of <code>n</code> nodes numbered from <code>0</code> to <code>n - 1</code> and exactly <code>n - 1</code> <code>edges</code>. The <strong>root</strong> of the tree is the node <code>0</code>, and each node of the tree has <strong>a label</strong> which is a lower-case character given in the string <code>labels</code> (i.e. The node with the number <code>i</code> has the label <code>labels[i]</code>).</p>
<p>The <code>edges</code> array is given on the form <code>edges[i] = [ai, bi]</code>, which means there is an edge between nodes <code>ai</code> and <code>bi</code> in the tree.</p>
<p>Return <strong>an array of size <code>n</code></strong> where <code>ans[i]</code> is the number of nodes in the subtree of the <code>ith</code> node which have the same label as node <code>i</code>.</p>
<p>A subtree of a tree <code>T</code> is the tree consisting of a node in <code>T</code> and all of its descendant nodes.</p>
<p>&nbsp;
<strong>Example 1:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2020/07/01/q3e1.jpg" alt="" /></p>
<pre><code class="hljs">Input: n = <span class="hljs-number">7</span>, edges = [[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">0</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">4</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">5</span>],[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">2</span>,<span class="hljs-number">6</span>]], labels = <span class="hljs-string">"abaedcd"</span>
Output: [<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>]
Explanation: Node <span class="hljs-number">0</span> has label <span class="hljs-string">'a'</span> <span class="hljs-keyword">and</span> its sub-tree has node <span class="hljs-number">2</span> with label <span class="hljs-string">'a'</span> as well, thus the answer <span class="hljs-keyword">is</span> <span class="hljs-number">2.</span> Notice that any node <span class="hljs-keyword">is</span> part of its sub-tree.
Node <span class="hljs-number">1</span> has a label <span class="hljs-string">'b'</span>. The sub-tree of node <span class="hljs-number">1</span> contains nodes <span class="hljs-number">1</span>,<span class="hljs-number">4</span> <span class="hljs-keyword">and</span> <span class="hljs-number">5</span>, as nodes <span class="hljs-number">4</span> <span class="hljs-keyword">and</span> <span class="hljs-number">5</span> have different labels than node <span class="hljs-number">1</span>, the answer <span class="hljs-keyword">is</span> just <span class="hljs-number">1</span> (the node itself).
</code></pre>
<p><strong>Example 2:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2020/07/01/q3e2.jpg" alt="" /></p>
<pre><code class="hljs">Input: n = 4, edges = [[0,1],[1,2],[0,3]], labels = <span class="hljs-string">"bbbb"</span>
Output: [4,2,1,1]
Explanation: The<span class="hljs-built_in"> sub-tree </span>of node 2 contains only node 2, so the answer is 1.
The<span class="hljs-built_in"> sub-tree </span>of node 3 contains only node 3, so the answer is 1.
The<span class="hljs-built_in"> sub-tree </span>of node 1 contains nodes 1<span class="hljs-built_in"> and </span>2, both have label 'b', thus the answer is 2.
The<span class="hljs-built_in"> sub-tree </span>of node 0 contains nodes 0, 1, 2<span class="hljs-built_in"> and </span>3, all with label 'b', thus the answer is 4.
</code></pre>
<p><strong>Example 3:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2020/07/01/q3e3.jpg" alt="" /></p>
<pre><code class="hljs">Input: n = <span class="hljs-number">5</span>, edges = [[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">0</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">0</span>,<span class="hljs-number">4</span>]], labels = <span class="hljs-string">"aabab"</span>
Output: [<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>]
</code></pre>
<p>&nbsp;
<strong>Constraints:</strong></p>
<ul>
<li><p><code>1 &lt;= n &lt;= 105</code></p></li>
<li><p><code>edges.length == n - 1</code></p></li>
<li><p><code>edges[i].length == 2</code></p></li>
<li><p><code>0 &lt;= ai, bi &lt; n</code></p></li>
<li><p><code>ai != bi</code></p></li>
<li><p><code>labels.length == n</code></p></li>
<li><p><code>labels</code> is consisting of only of lowercase English letters.</p></li>
</ul>
<h2 id="solution-java">Solution (Java)</h2>
<pre><code class="hljs lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span>[] countSubTrees(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span>[][] edges, String labelsString) {
        <span class="hljs-keyword">int</span>[] labelsCount = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n];
        <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">0</span> || edges == <span class="hljs-keyword">null</span> || labelsString == <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">return</span> labelsCount;
        }

        <span class="hljs-keyword">int</span>[] labels = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n];
        <span class="hljs-keyword">int</span> nodeNumber = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">char</span> label : labelsString.toCharArray()) {
            labels[nodeNumber++] = label - <span class="hljs-string">'a'</span>;
        }

        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; graph = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) {
            graph.add(<span class="hljs-keyword">new</span> ArrayList&lt;&gt;());
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span>[] edge : edges) {
            <span class="hljs-keyword">int</span> parent = edge[<span class="hljs-number">0</span>];
            <span class="hljs-keyword">int</span> child = edge[<span class="hljs-number">1</span>];
            graph.get(parent).add(child);
            graph.get(child).add(parent);
        }

        getLabelsFrequency(<span class="hljs-number">0</span>, graph, labels, labelsCount, <span class="hljs-number">0</span>);

        <span class="hljs-keyword">return</span> labelsCount;
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span>[] getLabelsFrequency(
            <span class="hljs-keyword">int</span> root,
            ArrayList&lt;ArrayList&lt;Integer&gt;&gt; graph,
            <span class="hljs-keyword">int</span>[] labels,
            <span class="hljs-keyword">int</span>[] labelsCount,
            <span class="hljs-keyword">int</span> parent) {
        <span class="hljs-keyword">int</span>[] labelsFrequency = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">26</span>];
        <span class="hljs-keyword">int</span> rootLabel = labels[root];
        labelsFrequency[rootLabel]++;

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> child : graph.get(root)) {
            <span class="hljs-keyword">if</span> (child == parent) {
                <span class="hljs-keyword">continue</span>;
            }
            <span class="hljs-keyword">int</span>[] childLabelsFrequency =
                    getLabelsFrequency(child, graph, labels, labelsCount, root);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; childLabelsFrequency.length; i++) {
                labelsFrequency[i] += childLabelsFrequency[i];
            }
        }

        labelsCount[root] = labelsFrequency[rootLabel];
        <span class="hljs-keyword">return</span> labelsFrequency;
    }
}
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/curest0x1021/Leetcode-Solution" target="_blank"><img src="https://curest0x1021.github.io/Leetcode-Solution/static/img/github.png" alt="github"/></a></footer></body></html>