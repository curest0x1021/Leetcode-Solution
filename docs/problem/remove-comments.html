<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>Remove Comments - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://baffinlee.com/leetcode-javascript/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://baffinlee.com/leetcode-javascript/static/css/app.css"/></head><body><header><h1>722. Remove Comments</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://baffinlee.com/leetcode-javascript/difficulty/medium" class="tag">Medium</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://baffinlee.com/leetcode-javascript/tag/array">Array</a></li><li><a href="https://baffinlee.com/leetcode-javascript/tag/string">String</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"><li><a href="https://baffinlee.com/leetcode-javascript/problem/mini-parser.html">Mini Parser</a></li><li><a href="https://baffinlee.com/leetcode-javascript/problem/ternary-expression-parser.html">Ternary Expression Parser</a></li></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>Given a C++ program, remove comments from it. The program source is an array of strings <code>source</code> where <code>source[i]</code> is the <code>ith</code> line of the source code. This represents the result of splitting the original source code string by the newline character <code>'\n'</code>.</p>
<p>In C++, there are two types of comments, line comments, and block comments.</p>
<ul>
<li><p>The string <code>"//"</code> denotes a line comment, which represents that it and the rest of the characters to the right of it in the same line should be ignored.</p></li>
<li><p>The string <code>"/*"</code> denotes a block comment, which represents that all characters until the next (non-overlapping) occurrence of <code>"*/"</code> should be ignored. (Here, occurrences happen in reading order: line by line from left to right.) To be clear, the string <code>"/*/"</code> does not yet end the block comment, as the ending would be overlapping the beginning.</p></li>
</ul>
<p>The first effective comment takes precedence over others.</p>
<ul>
<li><p>For example, if the string <code>"//"</code> occurs in a block comment, it is ignored.</p></li>
<li><p>Similarly, if the string <code>"/*"</code> occurs in a line or block comment, it is also ignored.</p></li>
</ul>
<p>If a certain line of code is empty after removing comments, you must not output that line: each string in the answer list will be non-empty.</p>
<p>There will be no control characters, single quote, or double quote characters.</p>
<ul>
<li>For example, <code>source = "string s = "/* Not a comment. */";"</code> will not be a test case.</li>
</ul>
<p>Also, nothing else such as defines or macros will interfere with the comments.</p>
<p>It is guaranteed that every open block comment will eventually be closed, so <code>"/*"</code> outside of a line or block comment always starts a new comment.</p>
<p>Finally, implicit newline characters can be deleted by block comments. Please see the examples below for details.</p>
<p>After removing the comments from the source code, return <strong>the source code in the same format</strong>.</p>
<p>&nbsp;
<strong>Example 1:</strong></p>
<pre><code class="hljs"><span class="hljs-symbol">Input</span>: source = [<span class="hljs-string">"/*Test program */"</span>, <span class="hljs-string">"int main()"</span>, <span class="hljs-string">"{ "</span>, <span class="hljs-string">"  // variable declaration "</span>, <span class="hljs-string">"int a, b, c;"</span>, <span class="hljs-string">"/* This is a test"</span>, <span class="hljs-string">"   multiline  "</span>, <span class="hljs-string">"   comment for "</span>, <span class="hljs-string">"   testing */"</span>, <span class="hljs-string">"a = b + c;"</span>, <span class="hljs-string">"}"</span>]
<span class="hljs-symbol">Output</span>: [<span class="hljs-string">"int main()"</span>,<span class="hljs-string">"{ "</span>,<span class="hljs-string">"  "</span>,<span class="hljs-string">"int a, b, c;"</span>,<span class="hljs-string">"a = b + c;"</span>,<span class="hljs-string">"}"</span>]
<span class="hljs-symbol">Explanation</span>: The line <span class="hljs-keyword">by </span>line <span class="hljs-meta">code</span> is visualized as <span class="hljs-keyword">below:
</span><span class="hljs-comment">/*Test program */</span>
<span class="hljs-symbol">int</span> main()
{ 
  // variable declaration 
<span class="hljs-symbol">int</span> a, <span class="hljs-keyword">b, </span>c<span class="hljs-comment">;</span>
<span class="hljs-comment">/* This is a test
   multiline  
   comment for 
   testing */</span>
a = <span class="hljs-keyword">b </span>+ c<span class="hljs-comment">;</span>
}
<span class="hljs-symbol">The</span> <span class="hljs-keyword">string </span><span class="hljs-comment">/* denotes a block comment, including line 1 and lines 6-9. The string // denotes line 4 as comments.
The line by line output code is visualized as below:
int main()
{ 

int a, b, c;
a = b + c;
}</span>
</code></pre>
<p><strong>Example 2:</strong></p>
<pre><code class="hljs">Input: source = [<span class="hljs-string">"a/*comment"</span>, <span class="hljs-string">"line"</span>, <span class="hljs-string">"more_comment*/b"</span>]
Output: [<span class="hljs-string">"ab"</span>]
Explanation: The original source <span class="hljs-keyword">string</span> is <span class="hljs-string">"a/*comment\nline\nmore_comment*/b"</span>, where we have bolded <span class="hljs-keyword">the</span> newline <span class="hljs-keyword">characters</span>.  After deletion, <span class="hljs-keyword">the</span> implicit newline <span class="hljs-keyword">characters</span> are deleted, leaving <span class="hljs-keyword">the</span> <span class="hljs-keyword">string</span> <span class="hljs-string">"ab"</span>, which when delimited <span class="hljs-keyword">by</span> newline <span class="hljs-keyword">characters</span> becomes [<span class="hljs-string">"ab"</span>].
</code></pre>
<p>&nbsp;
<strong>Constraints:</strong></p>
<ul>
<li><p><code>1 &lt;= source.length &lt;= 100</code></p></li>
<li><p><code>0 &lt;= source[i].length &lt;= 80</code></p></li>
<li><p><code>source[i]</code> consists of printable <strong>ASCII</strong> characters.</p></li>
<li><p>Every open block comment is eventually closed.</p></li>
<li><p>There are no single-quote or&nbsp;double-quote in the input.</p></li>
</ul>
<h2 id="solution-java">Solution (Java)</h2>
<pre><code class="hljs lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title">removeComments</span><span class="hljs-params">(String[] source)</span> </span>{
        List&lt;String&gt; result = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
        StringBuilder sb = <span class="hljs-keyword">new</span> StringBuilder();
        <span class="hljs-keyword">boolean</span> multiComment = <span class="hljs-keyword">false</span>;
        <span class="hljs-keyword">for</span> (String line : source) {
            <span class="hljs-keyword">int</span> n = line.length();
            <span class="hljs-keyword">int</span> index = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">while</span> (index &lt; n) {
                <span class="hljs-keyword">char</span> ch = line.charAt(index);
                <span class="hljs-keyword">if</span> (!multiComment &amp;&amp; ch == <span class="hljs-string">'/'</span>) {
                    index++;
                    <span class="hljs-keyword">if</span> (index &gt;= n) {
                        sb.append(ch);
                        <span class="hljs-keyword">continue</span>;
                    }
                    <span class="hljs-keyword">if</span> (line.charAt(index) == <span class="hljs-string">'/'</span>) {
                        <span class="hljs-keyword">break</span>;
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (line.charAt(index) == <span class="hljs-string">'*'</span>) {
                        multiComment = <span class="hljs-keyword">true</span>;
                    } <span class="hljs-keyword">else</span> {
                        sb.append(ch).append(line.charAt(index));
                    }
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (multiComment &amp;&amp; ch == <span class="hljs-string">'*'</span>) {
                    index++;
                    <span class="hljs-keyword">if</span> (index &gt;= n) {
                        <span class="hljs-keyword">continue</span>;
                    }
                    <span class="hljs-keyword">if</span> (line.charAt(index) == <span class="hljs-string">'/'</span>) {
                        multiComment = <span class="hljs-keyword">false</span>;
                    } <span class="hljs-keyword">else</span> {
                        index--;
                    }
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!multiComment) {
                    sb.append(ch);
                }
                index++;
            }
            <span class="hljs-keyword">if</span> (sb.length() &gt; <span class="hljs-number">0</span> &amp;&amp; !multiComment) {
                result.add(sb.toString());
                sb.setLength(<span class="hljs-number">0</span>);
            }
        }
        <span class="hljs-keyword">return</span> result;
    }
}
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/BaffinLee/leetcode-javascript" target="_blank"><img src="https://baffinlee.com/leetcode-javascript/static/img/github.png" alt="github"/></a></footer></body></html>