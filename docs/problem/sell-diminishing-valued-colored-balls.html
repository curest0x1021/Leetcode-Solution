<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>Sell Diminishing-Valued Colored Balls - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://curest0x1021.github.io/Leetcode-Solution/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://curest0x1021.github.io/Leetcode-Solution/static/css/app.css"/></head><body><header><h1>1648. Sell Diminishing-Valued Colored Balls</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://curest0x1021.github.io/Leetcode-Solution/difficulty/medium" class="tag">Medium</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/array">Array</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/math">Math</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/binary-search">Binary Search</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/greedy">Greedy</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/sorting">Sorting</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/heap-priority-queue">Heap (Priority Queue)</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/problem/maximum-running-time-of-n-computers.html">Maximum Running Time of N Computers</a></li></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>You have an <code>inventory</code> of different colored balls, and there is a customer that wants <code>orders</code> balls of <strong>any</strong> color.</p>
<p>The customer weirdly values the colored balls. Each colored ball's value is the number of balls <strong>of that color&nbsp;</strong>you currently have in your <code>inventory</code>. For example, if you own <code>6</code> yellow balls, the customer would pay <code>6</code> for the first yellow ball. After the transaction, there are only <code>5</code> yellow balls left, so the next yellow ball is then valued at <code>5</code> (i.e., the value of the balls decreases as you sell more to the customer).</p>
<p>You are given an integer array, <code>inventory</code>, where <code>inventory[i]</code> represents the number of balls of the <code>ith</code> color that you initially own. You are also given an integer <code>orders</code>, which represents the total number of balls that the customer wants. You can sell the balls <strong>in any order</strong>.</p>
<p>Return **the *<em>maximum</em>* total value that you can attain after selling <strong><code>orders</code></strong> colored balls**. As the answer may be too large, return it **modulo **<code>109 + 7</code>.</p>
<p>&nbsp;
<strong>Example 1:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2020/11/05/jj.gif" alt="" /></p>
<pre><code class="hljs">Input: inventory = [<span class="hljs-number">2</span>,<span class="hljs-number">5</span>], orders = <span class="hljs-number">4</span>
Output: <span class="hljs-number">14</span>
Explanation: Sell the <span class="hljs-number">1</span>st color <span class="hljs-number">1</span> time (<span class="hljs-number">2</span>) <span class="hljs-keyword">and</span> the <span class="hljs-number">2</span>nd color <span class="hljs-number">3</span> times (<span class="hljs-number">5</span> + <span class="hljs-number">4</span> + <span class="hljs-number">3</span>).
The maximum total value <span class="hljs-keyword">is</span> <span class="hljs-number">2</span> + <span class="hljs-number">5</span> + <span class="hljs-number">4</span> + <span class="hljs-number">3</span> = <span class="hljs-number">14.</span>
</code></pre>
<p><strong>Example 2:</strong></p>
<pre><code class="hljs">Input: inventory = [<span class="hljs-number">3</span>,<span class="hljs-number">5</span>], orders = <span class="hljs-number">6</span>
Output: <span class="hljs-number">19</span>
Explanation: Sell the <span class="hljs-number">1</span>st color <span class="hljs-number">2</span> times (<span class="hljs-number">3</span> + <span class="hljs-number">2</span>) <span class="hljs-keyword">and</span> the <span class="hljs-number">2</span>nd color <span class="hljs-number">4</span> times (<span class="hljs-number">5</span> + <span class="hljs-number">4</span> + <span class="hljs-number">3</span> + <span class="hljs-number">2</span>).
The maximum total value <span class="hljs-keyword">is</span> <span class="hljs-number">3</span> + <span class="hljs-number">2</span> + <span class="hljs-number">5</span> + <span class="hljs-number">4</span> + <span class="hljs-number">3</span> + <span class="hljs-number">2</span> = <span class="hljs-number">19.</span>
</code></pre>
<p>&nbsp;
<strong>Constraints:</strong></p>
<ul>
<li><p><code>1 &lt;= inventory.length &lt;= 105</code></p></li>
<li><p><code>1 &lt;= inventory[i] &lt;= 109</code></p></li>
<li><p><code>1 &lt;= orders &lt;= min(sum(inventory[i]), 109)</code></p></li>
</ul>
<h2 id="solution-java">Solution (Java)</h2>
<pre><code class="hljs lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">maxProfit</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] inventory, <span class="hljs-keyword">int</span> orders)</span> </span>{
        <span class="hljs-keyword">int</span> n = inventory.length;
        <span class="hljs-keyword">long</span> mod = (<span class="hljs-keyword">long</span>) <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;
        <span class="hljs-keyword">long</span> totalValue = <span class="hljs-number">0</span>;
        Arrays.sort(inventory);
        <span class="hljs-keyword">int</span> count = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
            count++;
            <span class="hljs-keyword">if</span> (i == <span class="hljs-number">0</span> || inventory[i] &gt; inventory[i - <span class="hljs-number">1</span>]) {
                <span class="hljs-keyword">long</span> diff = i == <span class="hljs-number">0</span> ? inventory[i] : inventory[i] - inventory[i - <span class="hljs-number">1</span>];
                <span class="hljs-keyword">if</span> (count * diff &lt; orders) {
                    totalValue += (<span class="hljs-number">2L</span> * inventory[i] - diff + <span class="hljs-number">1</span>) * diff * count / <span class="hljs-number">2</span> % mod;
                    orders -= count * diff;
                } <span class="hljs-keyword">else</span> {
                    diff = orders / count;
                    <span class="hljs-keyword">long</span> remainder = orders % count;
                    totalValue += (<span class="hljs-number">2L</span> * inventory[i] - diff + <span class="hljs-number">1</span>) * diff * count / <span class="hljs-number">2</span> % mod;
                    totalValue += (inventory[i] - diff) * remainder % mod;
                    totalValue %= mod;
                    <span class="hljs-keyword">break</span>;
                }
            }
        }
        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">int</span>) totalValue;
    }
}
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/curest0x1021/Leetcode-Solution" target="_blank"><img src="https://curest0x1021.github.io/Leetcode-Solution/static/img/github.png" alt="github"/></a></footer></body></html>