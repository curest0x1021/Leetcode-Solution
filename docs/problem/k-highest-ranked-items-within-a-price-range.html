<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>K Highest Ranked Items Within a Price Range - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://curest0x1021.github.io/Leetcode-Solution/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://curest0x1021.github.io/Leetcode-Solution/static/css/app.css"/></head><body><header><h1>2146. K Highest Ranked Items Within a Price Range</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://curest0x1021.github.io/Leetcode-Solution/difficulty/medium" class="tag">Medium</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/array">Array</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/breadth-first-search">Breadth-First Search</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/sorting">Sorting</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/heap-priority-queue">Heap (Priority Queue)</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/matrix">Matrix</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/problem/kth-largest-element-in-an-array.html">Kth Largest Element in an Array</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/problem/as-far-from-land-as-possible.html">As Far from Land as Possible</a></li></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>You are given a <strong>0-indexed</strong> 2D integer array <code>grid</code> of size <code>m x n</code> that represents a map of the items in a shop. The integers in the grid represent the following:</p>
<ul>
<li><p><code>0</code> represents a wall that you cannot pass through.</p></li>
<li><p><code>1</code> represents an empty cell that you can freely move to and from.</p></li>
<li><p>All other positive integers represent the price of an item in that cell. You may also freely move to and from these item cells.</p></li>
</ul>
<p>It takes <code>1</code> step to travel between adjacent grid cells.</p>
<p>You are also given integer arrays <code>pricing</code> and <code>start</code> where <code>pricing = [low, high]</code> and <code>start = [row, col]</code> indicates that you start at the position <code>(row, col)</code> and are interested only in items with a price in the range of <code>[low, high]</code> (<strong>inclusive</strong>). You are further given an integer <code>k</code>.</p>
<p>You are interested in the <strong>positions</strong> of the <code>k</code> <strong>highest-ranked</strong> items whose prices are <strong>within</strong> the given price range. The rank is determined by the <strong>first</strong> of these criteria that is different:</p>
<ul>
<li><p>Distance, defined as the length of the shortest path from the <code>start</code> (<strong>shorter</strong> distance has a higher rank).</p></li>
<li><p>Price (<strong>lower</strong> price has a higher rank, but it must be <strong>in the price range</strong>).</p></li>
<li><p>The row number (<strong>smaller</strong> row number has a higher rank).</p></li>
<li><p>The column number (<strong>smaller</strong> column number has a higher rank).</p></li>
</ul>
<p>Return **the *<em><code>k</code></em>* highest-ranked items within the price range <strong>sorted</strong> by their rank (highest to lowest)**. If there are fewer than <code>k</code> reachable items within the price range, return *<em><strong>all</strong> of them</em>*.</p>
<p>&nbsp;
<strong>Example 1:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2021/12/16/example1drawio.png" alt="" /></p>
<pre><code class="hljs">Input: grid = [[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">5</span>,<span class="hljs-number">1</span>]], pricing = [<span class="hljs-number">2</span>,<span class="hljs-number">5</span>], start = [<span class="hljs-number">0</span>,<span class="hljs-number">0</span>], k = <span class="hljs-number">3</span>
Output: [[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">2</span>,<span class="hljs-number">1</span>]]
Explanation: You start at (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>).
With a price range of [<span class="hljs-number">2</span>,<span class="hljs-number">5</span>], we can take items <span class="hljs-keyword">from</span> (<span class="hljs-number">0</span>,<span class="hljs-number">1</span>), (<span class="hljs-number">1</span>,<span class="hljs-number">1</span>), (<span class="hljs-number">2</span>,<span class="hljs-number">1</span>) <span class="hljs-keyword">and</span> (<span class="hljs-number">2</span>,<span class="hljs-number">2</span>).
The ranks of these items are:
- (<span class="hljs-number">0</span>,<span class="hljs-number">1</span>) with distance <span class="hljs-number">1</span>
- (<span class="hljs-number">1</span>,<span class="hljs-number">1</span>) with distance <span class="hljs-number">2</span>
- (<span class="hljs-number">2</span>,<span class="hljs-number">1</span>) with distance <span class="hljs-number">3</span>
- (<span class="hljs-number">2</span>,<span class="hljs-number">2</span>) with distance <span class="hljs-number">4</span>
Thus, the <span class="hljs-number">3</span> highest ranked items <span class="hljs-keyword">in</span> the price range are (<span class="hljs-number">0</span>,<span class="hljs-number">1</span>), (<span class="hljs-number">1</span>,<span class="hljs-number">1</span>), <span class="hljs-keyword">and</span> (<span class="hljs-number">2</span>,<span class="hljs-number">1</span>).
</code></pre>
<p><strong>Example 2:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2021/12/16/example2drawio1.png" alt="" /></p>
<pre><code class="hljs">Input: grid = [[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">5</span>,<span class="hljs-number">1</span>]], pricing = [<span class="hljs-number">2</span>,<span class="hljs-number">3</span>], start = [<span class="hljs-number">2</span>,<span class="hljs-number">3</span>], k = <span class="hljs-number">2</span>
Output: [[<span class="hljs-number">2</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]]
Explanation: You start at (<span class="hljs-number">2</span>,<span class="hljs-number">3</span>).
With a price range of [<span class="hljs-number">2</span>,<span class="hljs-number">3</span>], we can take items <span class="hljs-keyword">from</span> (<span class="hljs-number">0</span>,<span class="hljs-number">1</span>), (<span class="hljs-number">1</span>,<span class="hljs-number">1</span>), (<span class="hljs-number">1</span>,<span class="hljs-number">2</span>) <span class="hljs-keyword">and</span> (<span class="hljs-number">2</span>,<span class="hljs-number">1</span>).
The ranks of these items are:
- (<span class="hljs-number">2</span>,<span class="hljs-number">1</span>) with distance <span class="hljs-number">2</span>, price <span class="hljs-number">2</span>
- (<span class="hljs-number">1</span>,<span class="hljs-number">2</span>) with distance <span class="hljs-number">2</span>, price <span class="hljs-number">3</span>
- (<span class="hljs-number">1</span>,<span class="hljs-number">1</span>) with distance <span class="hljs-number">3</span>
- (<span class="hljs-number">0</span>,<span class="hljs-number">1</span>) with distance <span class="hljs-number">4</span>
Thus, the <span class="hljs-number">2</span> highest ranked items <span class="hljs-keyword">in</span> the price range are (<span class="hljs-number">2</span>,<span class="hljs-number">1</span>) <span class="hljs-keyword">and</span> (<span class="hljs-number">1</span>,<span class="hljs-number">2</span>).
</code></pre>
<p><strong>Example 3:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2021/12/30/example3.png" alt="" /></p>
<pre><code class="hljs">Input: grid = [[<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]], pricing = [<span class="hljs-number">2</span>,<span class="hljs-number">3</span>], start = [<span class="hljs-number">0</span>,<span class="hljs-number">0</span>], k = <span class="hljs-number">3</span>
Output: [[<span class="hljs-number">2</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">2</span>,<span class="hljs-number">0</span>]]
Explanation: You start at (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>).
With a price range of [<span class="hljs-number">2</span>,<span class="hljs-number">3</span>], we can take items <span class="hljs-keyword">from</span> (<span class="hljs-number">2</span>,<span class="hljs-number">0</span>) <span class="hljs-keyword">and</span> (<span class="hljs-number">2</span>,<span class="hljs-number">1</span>). 
The ranks of these items are: 
- (<span class="hljs-number">2</span>,<span class="hljs-number">1</span>) with distance <span class="hljs-number">5</span>
- (<span class="hljs-number">2</span>,<span class="hljs-number">0</span>) with distance <span class="hljs-number">6</span>
Thus, the <span class="hljs-number">2</span> highest ranked items <span class="hljs-keyword">in</span> the price range are (<span class="hljs-number">2</span>,<span class="hljs-number">1</span>) <span class="hljs-keyword">and</span> (<span class="hljs-number">2</span>,<span class="hljs-number">0</span>). 
Note that k = <span class="hljs-number">3</span> but there are only <span class="hljs-number">2</span> reachable items within the price range.
</code></pre>
<p>&nbsp;
<strong>Constraints:</strong></p>
<ul>
<li><p><code>m == grid.length</code></p></li>
<li><p><code>n == grid[i].length</code></p></li>
<li><p><code>1 &lt;= m, n &lt;= 105</code></p></li>
<li><p><code>1 &lt;= m * n &lt;= 105</code></p></li>
<li><p><code>0 &lt;= grid[i][j] &lt;= 105</code></p></li>
<li><p><code>pricing.length == 2</code></p></li>
<li><p><code>2 &lt;= low &lt;= high &lt;= 105</code></p></li>
<li><p><code>start.length == 2</code></p></li>
<li><p><code>0 &lt;= row &lt;= m - 1</code></p></li>
<li><p><code>0 &lt;= col &lt;= n - 1</code></p></li>
<li><p><code>grid[row][col] &gt; 0</code></p></li>
<li><p><code>1 &lt;= k &lt;= m * n</code></p></li>
</ul>
<h2 id="solution-java">Solution (Java)</h2>
<pre><code class="hljs lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>{
    <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Item</span> </span>{
        <span class="hljs-keyword">int</span> row;
        <span class="hljs-keyword">int</span> col;
        <span class="hljs-keyword">int</span> dist;
        <span class="hljs-keyword">int</span> price;

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Item</span><span class="hljs-params">(<span class="hljs-keyword">int</span> row, <span class="hljs-keyword">int</span> col, <span class="hljs-keyword">int</span> dist, <span class="hljs-keyword">int</span> price)</span> </span>{
            <span class="hljs-keyword">this</span>.row = row;
            <span class="hljs-keyword">this</span>.col = col;
            <span class="hljs-keyword">this</span>.dist = dist;
            <span class="hljs-keyword">this</span>.price = price;
        }
    }

    <span class="hljs-keyword">public</span> List&lt;List&lt;Integer&gt;&gt; highestRankedKItems(
            <span class="hljs-keyword">int</span>[][] grid, <span class="hljs-keyword">int</span>[] pricing, <span class="hljs-keyword">int</span>[] start, <span class="hljs-keyword">int</span> k) {
        <span class="hljs-keyword">int</span> n = grid.length;
        <span class="hljs-keyword">int</span> m = grid[<span class="hljs-number">0</span>].length;
        Queue&lt;<span class="hljs-keyword">int</span>[]&gt; bfs = <span class="hljs-keyword">new</span> LinkedList&lt;&gt;();
        LinkedList&lt;Item&gt; items = <span class="hljs-keyword">new</span> LinkedList&lt;&gt;();

        bfs.add(start);
        <span class="hljs-keyword">if</span> (grid[start[<span class="hljs-number">0</span>]][start[<span class="hljs-number">1</span>]] &gt;= pricing[<span class="hljs-number">0</span>] &amp;&amp; grid[start[<span class="hljs-number">0</span>]][start[<span class="hljs-number">1</span>]] &lt;= pricing[<span class="hljs-number">1</span>]) {
            items.add(<span class="hljs-keyword">new</span> Item(start[<span class="hljs-number">0</span>], start[<span class="hljs-number">1</span>], <span class="hljs-number">0</span>, grid[start[<span class="hljs-number">0</span>]][start[<span class="hljs-number">1</span>]]));
        }
        grid[start[<span class="hljs-number">0</span>]][start[<span class="hljs-number">1</span>]] = -<span class="hljs-number">1</span>;

        <span class="hljs-keyword">int</span> distance = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span> (!bfs.isEmpty()) {
            <span class="hljs-keyword">int</span> size = bfs.size();
            distance++;
            <span class="hljs-keyword">while</span> (size-- &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">int</span>[] loc = bfs.poll();
                <span class="hljs-keyword">int</span>[] dirX = {<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">0</span>};
                <span class="hljs-keyword">int</span>[] dirY = {-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>};
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++) {
                    <span class="hljs-keyword">int</span> newX = loc[<span class="hljs-number">0</span>] + dirX[i];
                    <span class="hljs-keyword">int</span> newY = loc[<span class="hljs-number">1</span>] + dirY[i];
                    <span class="hljs-keyword">if</span> (newX &lt; <span class="hljs-number">0</span>
                            || newX &gt;= n
                            || newY &lt; <span class="hljs-number">0</span>
                            || newY &gt;= m
                            || grid[newX][newY] == -<span class="hljs-number">1</span>
                            || grid[newX][newY] == <span class="hljs-number">0</span>) {
                        <span class="hljs-keyword">continue</span>;
                    }
                    <span class="hljs-keyword">if</span> (grid[newX][newY] &gt;= pricing[<span class="hljs-number">0</span>] &amp;&amp; grid[newX][newY] &lt;= pricing[<span class="hljs-number">1</span>]) {
                        items.add(<span class="hljs-keyword">new</span> Item(newX, newY, distance, grid[newX][newY]));
                    }
                    grid[newX][newY] = -<span class="hljs-number">1</span>;
                    bfs.add(<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] {newX, newY});
                }
            }
        }
        items.sort(
                (a, b) -&gt; {
                    <span class="hljs-keyword">int</span> distDiff = a.dist - b.dist;
                    <span class="hljs-keyword">if</span> (distDiff == <span class="hljs-number">0</span>) {
                        <span class="hljs-keyword">int</span> priceDiff = a.price - b.price;
                        <span class="hljs-keyword">if</span> (priceDiff == <span class="hljs-number">0</span>) {
                            <span class="hljs-keyword">int</span> rowDiff = a.row - b.row;
                            <span class="hljs-keyword">if</span> (rowDiff == <span class="hljs-number">0</span>) {
                                <span class="hljs-keyword">return</span> a.col - b.col;
                            }
                            <span class="hljs-keyword">return</span> rowDiff;
                        }
                        <span class="hljs-keyword">return</span> priceDiff;
                    }
                    <span class="hljs-keyword">return</span> distDiff;
                });
        List&lt;List&lt;Integer&gt;&gt; ans = <span class="hljs-keyword">new</span> LinkedList&lt;&gt;();
        <span class="hljs-keyword">while</span> (k-- &gt; <span class="hljs-number">0</span> &amp;&amp; !items.isEmpty()) {
            Item item = items.poll();
            ans.add(Arrays.asList(item.row, item.col));
        }
        <span class="hljs-keyword">return</span> ans;
    }
}
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/curest0x1021/Leetcode-Solution" target="_blank"><img src="https://curest0x1021.github.io/Leetcode-Solution/static/img/github.png" alt="github"/></a></footer></body></html>