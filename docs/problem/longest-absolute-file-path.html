<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>Longest Absolute File Path - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://baffinlee.com/leetcode-javascript/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://baffinlee.com/leetcode-javascript/static/css/app.css"/></head><body><header><h1>388. Longest Absolute File Path</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://baffinlee.com/leetcode-javascript/difficulty/medium" class="tag">Medium</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://baffinlee.com/leetcode-javascript/tag/string">String</a></li><li><a href="https://baffinlee.com/leetcode-javascript/tag/stack">Stack</a></li><li><a href="https://baffinlee.com/leetcode-javascript/tag/depth-first-search">Depth-First Search</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>Suppose we have a file system that stores both files and directories. An example of one system is represented in the following picture:</p>
<p><img src="https://assets.leetcode.com/uploads/2020/08/28/mdir.jpg" alt="" /></p>
<p>Here, we have <code>dir</code> as the only directory in the root. <code>dir</code> contains two subdirectories, <code>subdir1</code> and <code>subdir2</code>. <code>subdir1</code> contains a file <code>file1.ext</code> and subdirectory <code>subsubdir1</code>. <code>subdir2</code> contains a subdirectory <code>subsubdir2</code>, which contains a file <code>file2.ext</code>.</p>
<p>In text form, it looks like this (with ⟶ representing the tab character):</p>
<pre><code class="hljs"><span class="hljs-keyword">dir
</span>⟶ <span class="hljs-keyword">subdir1
</span>⟶ ⟶ file1.<span class="hljs-keyword">ext
</span>⟶ ⟶ <span class="hljs-keyword">subsubdir1
</span>⟶ <span class="hljs-keyword">subdir2
</span>⟶ ⟶ <span class="hljs-keyword">subsubdir2
</span>⟶ ⟶ ⟶ file2.<span class="hljs-keyword">ext</span>
</code></pre>
<p>If we were to write this representation in code, it will look like this: <code>"dir\n\tsubdir1\n\t\tfile1.ext\n\t\tsubsubdir1\n\tsubdir2\n\t\tsubsubdir2\n\t\t\tfile2.ext"</code>. Note that the <code>'\n'</code> and <code>'\t'</code> are the new-line and tab characters.</p>
<p>Every file and directory has a unique <strong>absolute path</strong> in the file system, which is the order of directories that must be opened to reach the file/directory itself, all concatenated by <code>'/'s</code>. Using the above example, the <strong>absolute path</strong> to <code>file2.ext</code> is <code>"dir/subdir2/subsubdir2/file2.ext"</code>. Each directory name consists of letters, digits, and/or spaces. Each file name is of the form <code>name.extension</code>, where <code>name</code> and <code>extension</code> consist of letters, digits, and/or spaces.</p>
<p>Given a string <code>input</code> representing the file system in the explained format, return **the length of the *<em>longest absolute path</em>* to a <strong>file</strong> in the abstracted file system**. If there is no file in the system, return <code>0</code>.</p>
<p><strong>Note</strong> that the testcases are generated such that the file system is valid and no file or directory name has length 0.</p>
<p>&nbsp;
<strong>Example 1:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2020/08/28/dir1.jpg" alt="" /></p>
<pre><code class="hljs">Inpu<span class="hljs-variable">t:</span> <span class="hljs-built_in">input</span> = <span class="hljs-string">"dir\n\tsubdir1\n\tsubdir2\n\t\tfile.ext"</span>
Outpu<span class="hljs-variable">t:</span> <span class="hljs-number">20</span>
Explanation: We have <span class="hljs-keyword">only</span> one <span class="hljs-keyword">file</span>, <span class="hljs-built_in">and</span> the absolute path <span class="hljs-keyword">is</span> <span class="hljs-string">"dir/subdir2/file.ext"</span> of length <span class="hljs-number">20</span>.
</code></pre>
<p><strong>Example 2:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2020/08/28/dir2.jpg" alt="" /></p>
<pre><code class="hljs">Input: input = "dir<span class="hljs-symbol">\n</span><span class="hljs-symbol">\t</span>subdir1<span class="hljs-symbol">\n</span><span class="hljs-symbol">\t</span><span class="hljs-symbol">\t</span>file1.ext<span class="hljs-symbol">\n</span><span class="hljs-symbol">\t</span><span class="hljs-symbol">\t</span>subsubdir1<span class="hljs-symbol">\n</span><span class="hljs-symbol">\t</span>subdir2<span class="hljs-symbol">\n</span><span class="hljs-symbol">\t</span><span class="hljs-symbol">\t</span>subsubdir2<span class="hljs-symbol">\n</span><span class="hljs-symbol">\t</span><span class="hljs-symbol">\t</span><span class="hljs-symbol">\t</span>file2.ext"
Output: 32
Explanation: We have two files:
"dir/subdir1/file1.ext" of length 21
"dir/subdir2/subsubdir2/file2.ext" of length 32.
We return 32 since it is the longest absolute path to a file.
</code></pre>
<p><strong>Example 3:</strong></p>
<pre><code class="hljs">Input: input = <span class="hljs-string">"a"</span>
Output: <span class="hljs-number">0</span>
Explanation: We <span class="hljs-built_in">do</span> <span class="hljs-keyword">not</span> have <span class="hljs-keyword">any</span> <span class="hljs-built_in">files</span>, just <span class="hljs-keyword">a</span> single <span class="hljs-built_in">directory</span> named <span class="hljs-string">"a"</span>.
</code></pre>
<p>&nbsp;
<strong>Constraints:</strong></p>
<ul>
<li><p><code>1 &lt;= input.length &lt;= 104</code></p></li>
<li><p><code>input</code> may contain lowercase or uppercase English letters, a new line character <code>'\n'</code>, a tab character <code>'\t'</code>, a dot <code>'.'</code>, a space <code>' '</code>, and digits.</p></li>
<li><p>All file and directory names have <strong>positive</strong> length.</p></li>
</ul>
<h2 id="solution">Solution</h2>
<pre><code class="hljs lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">lengthLongestPath</span><span class="hljs-params">(String input)</span> </span>{
        Deque&lt;Integer&gt; stack = <span class="hljs-keyword">new</span> ArrayDeque&lt;&gt;();
        <span class="hljs-keyword">int</span> longestLen = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">int</span> currDirLen = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">int</span> currLevel;
        <span class="hljs-keyword">int</span> nextLevel = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">boolean</span> isFile = <span class="hljs-keyword">false</span>;
        Character period = <span class="hljs-string">'.'</span>;
        Character space = <span class="hljs-string">' '</span>;
        <span class="hljs-keyword">while</span> (i &lt; input.length()) {
            currLevel = nextLevel;
            <span class="hljs-keyword">int</span> currStrLen = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">while</span> (i &lt; input.length()
                    &amp;&amp; (Character.isLetterOrDigit(input.charAt(i))
                            || period.equals(input.charAt(i))
                            || space.equals(input.charAt(i)))) {
                <span class="hljs-keyword">if</span> (period.equals(input.charAt(i))) {
                    isFile = <span class="hljs-keyword">true</span>;
                }
                i++;
                currStrLen++;
            }
            <span class="hljs-keyword">if</span> (isFile) {
                longestLen = Math.max(longestLen, currDirLen + currStrLen);
            } <span class="hljs-keyword">else</span> {
                currDirLen += currStrLen + <span class="hljs-number">1</span>;
                stack.push(currStrLen + <span class="hljs-number">1</span>);
            }
            nextLevel = <span class="hljs-number">0</span>;
            <span class="hljs-comment">// increment one to let it pass "\n" and start from "\t"</span>
            i = i + <span class="hljs-number">1</span>;
            <span class="hljs-keyword">while</span> (i &lt; input.length() - <span class="hljs-number">1</span> &amp;&amp; input.charAt(i) == <span class="hljs-string">'\t'</span>) {
                nextLevel++;
                i = i + <span class="hljs-number">1</span>;
            }
            <span class="hljs-keyword">if</span> (nextLevel &lt; currLevel) {
                <span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">if</span> (isFile) {
                    <span class="hljs-keyword">while</span> (!stack.isEmpty() &amp;&amp; j &lt; (currLevel - nextLevel)) {
                        currDirLen -= stack.pop();
                        j++;
                    }
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">while</span> (!stack.isEmpty() &amp;&amp; j &lt;= (currLevel - nextLevel)) {
                        currDirLen -= stack.pop();
                        j++;
                    }
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nextLevel == currLevel &amp;&amp; !isFile &amp;&amp; !stack.isEmpty()) {
                currDirLen -= stack.pop();
            }
            <span class="hljs-keyword">if</span> (nextLevel == <span class="hljs-number">0</span>) {
                currDirLen = <span class="hljs-number">0</span>;
                stack.clear();
            }
            isFile = <span class="hljs-keyword">false</span>;
        }
        <span class="hljs-keyword">return</span> longestLen;
    }
}
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/BaffinLee/leetcode-javascript" target="_blank"><img src="https://baffinlee.com/leetcode-javascript/static/img/github.png" alt="github"/></a></footer></body></html>