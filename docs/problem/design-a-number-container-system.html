<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>Design a Number Container System - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://curest0x1021.github.io/Leetcode-Solution/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://curest0x1021.github.io/Leetcode-Solution/static/css/app.css"/></head><body><header><h1>2349. Design a Number Container System</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://curest0x1021.github.io/Leetcode-Solution/difficulty/medium" class="tag">Medium</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/hash-table">Hash Table</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/design">Design</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/heap-priority-queue">Heap (Priority Queue)</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/ordered-set">Ordered Set</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/problem/seat-reservation-manager.html">Seat Reservation Manager</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/problem/design-a-food-rating-system.html">Design a Food Rating System</a></li></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>Design a number container system that can do the following:</p>
<ul>
<li><p>**Insert **or <strong>Replace</strong> a number at the given index in the system.</p></li>
<li><p>**Return **the smallest index for the given number in the system.</p></li>
</ul>
<p>Implement the <code>NumberContainers</code> class:</p>
<ul>
<li><p><code>NumberContainers()</code> Initializes the number container system.</p></li>
<li><p><code>void change(int index, int number)</code> Fills the container at <code>index</code> with the <code>number</code>. If there is already a number at that <code>index</code>, replace it.</p></li>
<li><p><code>int find(int number)</code> Returns the smallest index for the given <code>number</code>, or <code>-1</code> if there is no index that is filled by <code>number</code> in the system.</p></li>
</ul>
<p>&nbsp;
<strong>Example 1:</strong></p>
<pre><code class="hljs">Input
[<span class="hljs-string">"NumberContainers"</span>, <span class="hljs-string">"find"</span>, <span class="hljs-string">"change"</span>, <span class="hljs-string">"change"</span>, <span class="hljs-string">"change"</span>, <span class="hljs-string">"change"</span>, <span class="hljs-string">"find"</span>, <span class="hljs-string">"change"</span>, <span class="hljs-string">"find"</span>]
[[], [10], [2, 10], [1, 10], [3, 10], [5, 10], [10], [1, 20], [10]]
Output
[null, -1, null, null, null, null, 1, null, 2]

Explanation
NumberContainers nc =<span class="hljs-built_in"> new </span>NumberContainers();
nc.find(10); // There is no index that is<span class="hljs-built_in"> filled </span>with number 10. Therefore, we<span class="hljs-built_in"> return </span>-1.
nc.change(2, 10); // Your container at index 2 will be<span class="hljs-built_in"> filled </span>with number 10.
nc.change(1, 10); // Your container at index 1 will be<span class="hljs-built_in"> filled </span>with number 10.
nc.change(3, 10); // Your container at index 3 will be<span class="hljs-built_in"> filled </span>with number 10.
nc.change(5, 10); // Your container at index 5 will be<span class="hljs-built_in"> filled </span>with number 10.
nc.find(10); // Number 10 is at the indices 1, 2, 3,<span class="hljs-built_in"> and </span>5. Since the smallest index that is<span class="hljs-built_in"> filled </span>with 10 is 1, we<span class="hljs-built_in"> return </span>1.
nc.change(1, 20); // Your container at index 1 will be<span class="hljs-built_in"> filled </span>with number 20. Note that index 1 was<span class="hljs-built_in"> filled </span>with 10<span class="hljs-built_in"> and </span>then replaced with 20. 
nc.find(10); // Number 10 is at the indices 2, 3,<span class="hljs-built_in"> and </span>5. The smallest index that is<span class="hljs-built_in"> filled </span>with 10 is 2. Therefore, we<span class="hljs-built_in"> return </span>2.
</code></pre>
<p>&nbsp;
<strong>Constraints:</strong></p>
<ul>
<li><p><code>1 &lt;= index, number &lt;= 109</code></p></li>
<li><p>At most <code>105</code> calls will be made <strong>in total</strong> to <code>change</code> and <code>find</code>.</p></li>
</ul>
<h2 id="solution-java">Solution (Java)</h2>
<pre><code class="hljs lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NumberContainers</span> </span>{
    <span class="hljs-keyword">private</span> Map&lt;Integer, TreeSet&lt;Integer&gt;&gt; indices = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();
    <span class="hljs-keyword">private</span> Map&lt;Integer, Integer&gt; vals = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">NumberContainers</span><span class="hljs-params">()</span> </span>{}

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">change</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index, <span class="hljs-keyword">int</span> number)</span> </span>{
        <span class="hljs-keyword">if</span> (vals.containsKey(index)) {
            <span class="hljs-keyword">int</span> old = vals.get(index);
            indices.get(old).remove(index);
            <span class="hljs-keyword">if</span> (indices.get(old).isEmpty()) {
                indices.remove(old);
            }
        }
        vals.put(index, number);
        indices.computeIfAbsent(number, s -&gt; <span class="hljs-keyword">new</span> TreeSet&lt;&gt;()).add(index);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span> </span>{
        <span class="hljs-keyword">if</span> (indices.containsKey(number)) {
            <span class="hljs-keyword">return</span> indices.get(number).first();
        }
        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
    }
}

<span class="hljs-comment">/**
 * Your NumberContainers object will be instantiated and called as such:
 * NumberContainers obj = new NumberContainers();
 * obj.change(index,number);
 * int param_2 = obj.find(number);
 */</span>
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/curest0x1021/Leetcode-Solution" target="_blank"><img src="https://curest0x1021.github.io/Leetcode-Solution/static/img/github.png" alt="github"/></a></footer></body></html>