<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>My Calendar I - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://curest0x1021.github.io/Leetcode-Solution/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://curest0x1021.github.io/Leetcode-Solution/static/css/app.css"/></head><body><header><h1>729. My Calendar I</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://curest0x1021.github.io/Leetcode-Solution/difficulty/medium" class="tag">Medium</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/array">Array</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/hash-table">Hash Table</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>You are implementing a program to use as your calendar. We can add a new event if adding the event will not cause a <strong>double booking</strong>.</p>
<p>A double booking happens when two events have some non-empty intersection (i.e., some moment is common to both events.).</p>
<p>The event can be represented as a pair of integers <code>start</code> and <code>end</code> that represents a booking on the half-open interval <code>[start, end]</code>, the range of real numbers <code>x</code> such that <code>start &lt;= x &lt; end</code>.</p>
<p>Implement the <code>MyCalendar</code> class:</p>
<ul>
<li><code>MyCalendar()</code> Initializes the calendar object.</li>
<li><code>boolean book(int start, int end)</code> Returns <code>true</code> if the event can be added to the calendar successfully without causing a <strong>double booking</strong>. Otherwise, return <code>false</code> and do not add the event to the calendar.</li>
</ul>
<p><strong>Example 1:</strong></p>
<pre><code class="hljs">Input
[<span class="hljs-string">"MyCalendar"</span>, <span class="hljs-string">"book"</span>, <span class="hljs-string">"book"</span>, <span class="hljs-string">"book"</span>]
<span class="hljs-string">[[], [10, 20], [15, 25], [20, 30]]</span>
Output
[null, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>]
</code></pre>
<p><strong>Example 2:</strong></p>
<pre><code class="hljs">MyCalendar myCalendar = <span class="hljs-built_in">new</span> MyCalendar();
myCalendar.book(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>); // <span class="hljs-keyword">return</span> <span class="hljs-keyword">True</span>
myCalendar.book(<span class="hljs-number">15</span>, <span class="hljs-number">25</span>); // <span class="hljs-keyword">return</span> <span class="hljs-keyword">False</span>, It can <span class="hljs-keyword">not</span> be booked because <span class="hljs-type">time</span> <span class="hljs-number">15</span> <span class="hljs-keyword">is</span> already booked <span class="hljs-keyword">by</span> another event.
myCalendar.book(<span class="hljs-number">20</span>, <span class="hljs-number">30</span>); // <span class="hljs-keyword">return</span> <span class="hljs-keyword">True</span>, The event can be booked, <span class="hljs-keyword">as</span> the first event takes every <span class="hljs-type">time</span> less than <span class="hljs-number">20</span>, but <span class="hljs-keyword">not</span> including <span class="hljs-number">20.</span>
</code></pre>
<h2 id="solution">Solution</h2>
<pre><code class="hljs lang-javascript"><span class="hljs-keyword">var</span> MyCalendar = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.root = <span class="hljs-literal">null</span>
};

<span class="hljs-comment">/** 
 * @param {number} start 
 * @param {number} end
 * @return {boolean}
 */</span>
MyCalendar.prototype.book = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">start, end</span>) </span>{
  <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.root) {
    <span class="hljs-keyword">this</span>.root = <span class="hljs-keyword">new</span> TreeNode(start, end)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
  }
  <span class="hljs-keyword">return</span> insert(<span class="hljs-keyword">this</span>.root, <span class="hljs-keyword">new</span> TreeNode(start, end))[<span class="hljs-number">1</span>]
};

<span class="hljs-comment">/** 
 * Your MyCalendar object will be instantiated and called as such:
 * var obj = new MyCalendar()
 * var param_1 = obj.book(start,end)
 */</span>
<span class="hljs-keyword">const</span> TreeNode = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">start, end</span>) </span>{
  <span class="hljs-keyword">this</span>.start = start
  <span class="hljs-keyword">this</span>.end = end
  <span class="hljs-keyword">this</span>.left = <span class="hljs-literal">null</span>
  <span class="hljs-keyword">this</span>.right = <span class="hljs-literal">null</span>
}

<span class="hljs-keyword">const</span> insert = <span class="hljs-function">(<span class="hljs-params">node, newNode</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (node === <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">return</span> [newNode, <span class="hljs-literal">true</span>]
  }
  <span class="hljs-keyword">if</span> (newNode.start &gt;= node.end) {
    <span class="hljs-keyword">const</span> [right, valid] = insert(node.right, newNode)
    node.right = right
    <span class="hljs-keyword">return</span> [node, valid]
  } <span class="hljs-keyword">if</span> (newNode.end &lt;= node.start) {
    <span class="hljs-keyword">const</span> [left, valid] = insert(node.left, newNode)
    node.left = left
    <span class="hljs-keyword">return</span> [node, valid]
  }
  <span class="hljs-keyword">return</span> [node, <span class="hljs-literal">false</span>]
}
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/curest0x1021/Leetcode-Solution" target="_blank"><img src="https://curest0x1021.github.io/Leetcode-Solution/static/img/github.png" alt="github"/></a></footer></body></html>