<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>Design a Food Rating System - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://curest0x1021.github.io/Leetcode-Solution/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://curest0x1021.github.io/Leetcode-Solution/static/css/app.css"/></head><body><header><h1>2353. Design a Food Rating System</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://curest0x1021.github.io/Leetcode-Solution/difficulty/medium" class="tag">Medium</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/hash-table">Hash Table</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/design">Design</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/heap-priority-queue">Heap (Priority Queue)</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/ordered-set">Ordered Set</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/problem/design-a-number-container-system.html">Design a Number Container System</a></li></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>Design a food rating system that can do the following:</p>
<ul>
<li><p><strong>Modify</strong> the rating of a food item listed in the system.</p></li>
<li><p>Return the highest-rated food item for a type of cuisine in the system.</p></li>
</ul>
<p>Implement the <code>FoodRatings</code> class:</p>
<pre><code><code>FoodRatings(String[] foods, String[] cuisines, int[] ratings)</code> Initializes the system. The food items are described by <code>foods</code>, <code>cuisines</code> and <code>ratings</code>, all of which have a length of <code>n</code>.
</code></pre>
<ul>
<li><p><code>foods[i]</code> is the name of the <code>ith</code> food,</p></li>
<li><p><code>cuisines[i]</code> is the type of cuisine of the <code>ith</code> food, and</p></li>
<li><p><code>ratings[i]</code> is the initial rating of the <code>ith</code> food.</p></li>

<li><p><code>void changeRating(String food, int newRating)</code> Changes the rating of the food item with the name <code>food</code>.</p></li>
<li><p><code>String highestRated(String cuisine)</code> Returns the name of the food item that has the highest rating for the given type of <code>cuisine</code>. If there is a tie, return the item with the <strong>lexicographically smaller</strong> name.</p></li>
</ul>
<p>Note that a string <code>x</code> is lexicographically smaller than string <code>y</code> if <code>x</code> comes before <code>y</code> in dictionary order, that is, either <code>x</code> is a prefix of <code>y</code>, or if <code>i</code> is the first position such that <code>x[i] != y[i]</code>, then <code>x[i]</code> comes before <code>y[i]</code> in alphabetic order.</p>
<p>&nbsp;
<strong>Example 1:</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">Input</span>
["FoodRatings", "highestRated", "highestRated", "changeRating", "highestRated", "changeRating", "highestRated"]
[[["kimchi", "miso", "sushi", "moussaka", "ramen", "bulgogi"], ["korean", "japanese", "japanese", "greek", "japanese", "korean"], [<span class="hljs-number">9</span>, <span class="hljs-number">12</span>, <span class="hljs-number">8</span>, <span class="hljs-number">15</span>, <span class="hljs-number">14</span>, <span class="hljs-number">7</span>]], ["korean"], ["japanese"], ["sushi", <span class="hljs-number">16</span>], ["japanese"], ["ramen", <span class="hljs-number">16</span>], ["japanese"]]
Output
[<span class="hljs-keyword">null</span>, "kimchi", "ramen", <span class="hljs-keyword">null</span>, "sushi", <span class="hljs-keyword">null</span>, "ramen"]

Explanation
FoodRatings foodRatings = <span class="hljs-built_in">new</span> FoodRatings(["kimchi", "miso", "sushi", "moussaka", "ramen", "bulgogi"], ["korean", "japanese", "japanese", "greek", "japanese", "korean"], [<span class="hljs-number">9</span>, <span class="hljs-number">12</span>, <span class="hljs-number">8</span>, <span class="hljs-number">15</span>, <span class="hljs-number">14</span>, <span class="hljs-number">7</span>]);
foodRatings.highestRated("korean"); // <span class="hljs-keyword">return</span> "kimchi"
                                    // "kimchi" <span class="hljs-keyword">is</span> the highest rated korean food <span class="hljs-keyword">with</span> a rating <span class="hljs-keyword">of</span> <span class="hljs-number">9.</span>
foodRatings.highestRated("japanese"); // <span class="hljs-keyword">return</span> "ramen"
                                      // "ramen" <span class="hljs-keyword">is</span> the highest rated japanese food <span class="hljs-keyword">with</span> a rating <span class="hljs-keyword">of</span> <span class="hljs-number">14.</span>
foodRatings.changeRating("sushi", <span class="hljs-number">16</span>); // "sushi" now has a rating <span class="hljs-keyword">of</span> <span class="hljs-number">16.</span>
foodRatings.highestRated("japanese"); // <span class="hljs-keyword">return</span> "sushi"
                                      // "sushi" <span class="hljs-keyword">is</span> the highest rated japanese food <span class="hljs-keyword">with</span> a rating <span class="hljs-keyword">of</span> <span class="hljs-number">16.</span>
foodRatings.changeRating("ramen", <span class="hljs-number">16</span>); // "ramen" now has a rating <span class="hljs-keyword">of</span> <span class="hljs-number">16.</span>
foodRatings.highestRated("japanese"); // <span class="hljs-keyword">return</span> "ramen"
                                      // <span class="hljs-keyword">Both</span> "sushi" <span class="hljs-keyword">and</span> "ramen" have a rating <span class="hljs-keyword">of</span> <span class="hljs-number">16.</span>
                                      // However, "ramen" <span class="hljs-keyword">is</span> lexicographically smaller than "sushi".
</code></pre>
<p>&nbsp;
<strong>Constraints:</strong></p>
<ul>
<li><p><code>1 &lt;= n &lt;= 2 * 104</code></p></li>
<li><p><code>n == foods.length == cuisines.length == ratings.length</code></p></li>
<li><p><code>1 &lt;= foods[i].length, cuisines[i].length &lt;= 10</code></p></li>
<li><p><code>foods[i]</code>, <code>cuisines[i]</code> consist of lowercase English letters.</p></li>
<li><p><code>1 &lt;= ratings[i] &lt;= 108</code></p></li>
<li><p>All the strings in <code>foods</code> are <strong>distinct</strong>.</p></li>
<li><p><code>food</code> will be the name of a food item in the system across all calls to <code>changeRating</code>.</p></li>
<li><p><code>cuisine</code> will be a type of cuisine of <strong>at least one</strong> food item in the system across all calls to <code>highestRated</code>.</p></li>
<li><p>At most <code>2 * 104</code> calls <strong>in total</strong> will be made to <code>changeRating</code> and <code>highestRated</code>.</p></li>
</ul>
<h2 id="solution-java">Solution (Java)</h2>
<pre><code class="hljs lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FoodRatings</span> </span>{
    <span class="hljs-keyword">private</span> HashMap&lt;String, TreeSet&lt;Food&gt;&gt; cus = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();
    <span class="hljs-keyword">private</span> HashMap&lt;String, Food&gt; foodHashMap = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">FoodRatings</span><span class="hljs-params">(String[] foods, String[] cuisines, <span class="hljs-keyword">int</span>[] ratings)</span> </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; foods.length; i++) {
            Food food = <span class="hljs-keyword">new</span> Food(foods[i], ratings[i], cuisines[i]);
            foodHashMap.put(foods[i], food);
            <span class="hljs-keyword">if</span> (cus.containsKey(cuisines[i])) {
                cus.get(cuisines[i]).add(food);
            } <span class="hljs-keyword">else</span> {
                TreeSet&lt;Food&gt; pq = <span class="hljs-keyword">new</span> TreeSet&lt;&gt;(<span class="hljs-keyword">new</span> Comp());
                pq.add(food);
                cus.put(cuisines[i], pq);
            }
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">changeRating</span><span class="hljs-params">(String food, <span class="hljs-keyword">int</span> newRating)</span> </span>{
        Food dish = foodHashMap.get(food);
        TreeSet&lt;Food&gt; pq = cus.get(dish.cus);
        pq.remove(dish);
        dish.rating = newRating;
        pq.add(dish);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">highestRated</span><span class="hljs-params">(String cuisine)</span> </span>{
        <span class="hljs-keyword">return</span> cus.get(cuisine).first().foodItem;
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Comp</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Comparator</span>&lt;<span class="hljs-title">Food</span>&gt; </span>{
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compare</span><span class="hljs-params">(Food f1, Food f2)</span> </span>{
            <span class="hljs-keyword">if</span> (f1.rating == f2.rating) {
                <span class="hljs-keyword">return</span> f1.foodItem.compareTo(f2.foodItem);
            }
            <span class="hljs-keyword">return</span> Integer.compare(f2.rating, f1.rating);
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Food</span> </span>{
        <span class="hljs-keyword">private</span> String foodItem;
        <span class="hljs-keyword">private</span> String cus;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> rating;

        Food(String food, <span class="hljs-keyword">int</span> rating, String cus) {
            <span class="hljs-keyword">this</span>.foodItem = food;
            <span class="hljs-keyword">this</span>.rating = rating;
            <span class="hljs-keyword">this</span>.cus = cus;
        }
    }
}

<span class="hljs-comment">/**
 * Your FoodRatings object will be instantiated and called as such:
 * FoodRatings obj = new FoodRatings(foods, cuisines, ratings);
 * obj.changeRating(food,newRating);
 * String param_2 = obj.highestRated(cuisine);
 */</span>
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/curest0x1021/Leetcode-Solution" target="_blank"><img src="https://curest0x1021.github.io/Leetcode-Solution/static/img/github.png" alt="github"/></a></footer></body></html>