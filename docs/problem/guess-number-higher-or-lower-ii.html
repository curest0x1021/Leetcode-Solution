<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>Guess Number Higher or Lower II - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://baffinlee.com/leetcode-javascript/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://baffinlee.com/leetcode-javascript/static/css/app.css"/></head><body><header><h1>375. Guess Number Higher or Lower II</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://baffinlee.com/leetcode-javascript/difficulty/medium" class="tag">Medium</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://baffinlee.com/leetcode-javascript/tag/math">Math</a></li><li><a href="https://baffinlee.com/leetcode-javascript/tag/dynamic-programming">Dynamic Programming</a></li><li><a href="https://baffinlee.com/leetcode-javascript/tag/game-theory">Game Theory</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"><li><a href="https://baffinlee.com/leetcode-javascript/problem/flip-game-ii.html">Flip Game II</a></li><li><a href="https://baffinlee.com/leetcode-javascript/problem/guess-number-higher-or-lower.html">Guess Number Higher or Lower</a></li><li><a href="https://baffinlee.com/leetcode-javascript/problem/can-i-win.html">Can I Win</a></li><li><a href="https://baffinlee.com/leetcode-javascript/problem/find-k-closest-elements.html">Find K Closest Elements</a></li></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>We are playing the Guessing Game. The game will work as follows:</p>
<ul>
<li><p>I pick a number between&nbsp;<code>1</code>&nbsp;and&nbsp;<code>n</code>.</p></li>
<li><p>You guess a number.</p></li>
<li><p>If you guess the right number, <strong>you win the game</strong>.</p></li>
<li><p>If you guess the wrong number, then I will tell you whether the number I picked is <strong>higher or lower</strong>, and you will continue guessing.</p></li>
<li><p>Every time you guess a wrong number&nbsp;<code>x</code>, you will pay&nbsp;<code>x</code>&nbsp;dollars. If you run out of money, <strong>you lose the game</strong>.</p></li>
</ul>
<p>Given a particular&nbsp;<code>n</code>, return&nbsp;<strong>the minimum amount of money you need to&nbsp;</strong>guarantee a win regardless of what number I pick****.</p>
<p>&nbsp;
<strong>Example 1:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2020/09/10/graph.png" alt="" /></p>
<pre><code class="hljs">Input: n = <span class="hljs-number">10</span>
Output: <span class="hljs-number">16</span>
Explanation: The winning strategy <span class="hljs-keyword">is</span> as follows:
- The range <span class="hljs-keyword">is</span> [<span class="hljs-number">1</span>,<span class="hljs-number">10</span>]. Guess <span class="hljs-number">7.</span>
&amp;nbsp;   - If <span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> my number, your total <span class="hljs-keyword">is</span> $<span class="hljs-number">0.</span> Otherwise, you pay $<span class="hljs-number">7.</span>
&amp;nbsp;   - If my number <span class="hljs-keyword">is</span> higher, the range <span class="hljs-keyword">is</span> [<span class="hljs-number">8</span>,<span class="hljs-number">10</span>]. Guess <span class="hljs-number">9.</span>
&amp;nbsp;       - If <span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> my number, your total <span class="hljs-keyword">is</span> $<span class="hljs-number">7.</span> Otherwise, you pay $<span class="hljs-number">9.</span>
&amp;nbsp;       - If my number <span class="hljs-keyword">is</span> higher, it must be <span class="hljs-number">10.</span> Guess <span class="hljs-number">10.</span> Your total <span class="hljs-keyword">is</span> $<span class="hljs-number">7</span> + $<span class="hljs-number">9</span> = $<span class="hljs-number">16.</span>
&amp;nbsp;       - If my number <span class="hljs-keyword">is</span> lower, it must be <span class="hljs-number">8.</span> Guess <span class="hljs-number">8.</span> Your total <span class="hljs-keyword">is</span> $<span class="hljs-number">7</span> + $<span class="hljs-number">9</span> = $<span class="hljs-number">16.</span>
&amp;nbsp;   - If my number <span class="hljs-keyword">is</span> lower, the range <span class="hljs-keyword">is</span> [<span class="hljs-number">1</span>,<span class="hljs-number">6</span>]. Guess <span class="hljs-number">3.</span>
&amp;nbsp;       - If <span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> my number, your total <span class="hljs-keyword">is</span> $<span class="hljs-number">7.</span> Otherwise, you pay $<span class="hljs-number">3.</span>
&amp;nbsp;       - If my number <span class="hljs-keyword">is</span> higher, the range <span class="hljs-keyword">is</span> [<span class="hljs-number">4</span>,<span class="hljs-number">6</span>]. Guess <span class="hljs-number">5.</span>
&amp;nbsp;           - If <span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> my number, your total <span class="hljs-keyword">is</span> $<span class="hljs-number">7</span> + $<span class="hljs-number">3</span> = $<span class="hljs-number">10.</span> Otherwise, you pay $<span class="hljs-number">5.</span>
&amp;nbsp;           - If my number <span class="hljs-keyword">is</span> higher, it must be <span class="hljs-number">6.</span> Guess <span class="hljs-number">6.</span> Your total <span class="hljs-keyword">is</span> $<span class="hljs-number">7</span> + $<span class="hljs-number">3</span> + $<span class="hljs-number">5</span> = $<span class="hljs-number">15.</span>
&amp;nbsp;           - If my number <span class="hljs-keyword">is</span> lower, it must be <span class="hljs-number">4.</span> Guess <span class="hljs-number">4.</span> Your total <span class="hljs-keyword">is</span> $<span class="hljs-number">7</span> + $<span class="hljs-number">3</span> + $<span class="hljs-number">5</span> = $<span class="hljs-number">15.</span>
&amp;nbsp;       - If my number <span class="hljs-keyword">is</span> lower, the range <span class="hljs-keyword">is</span> [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]. Guess <span class="hljs-number">1.</span>
&amp;nbsp;           - If <span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> my number, your total <span class="hljs-keyword">is</span> $<span class="hljs-number">7</span> + $<span class="hljs-number">3</span> = $<span class="hljs-number">10.</span> Otherwise, you pay $<span class="hljs-number">1.</span>
&amp;nbsp;           - If my number <span class="hljs-keyword">is</span> higher, it must be <span class="hljs-number">2.</span> Guess <span class="hljs-number">2.</span> Your total <span class="hljs-keyword">is</span> $<span class="hljs-number">7</span> + $<span class="hljs-number">3</span> + $<span class="hljs-number">1</span> = $<span class="hljs-number">11.</span>
The worst <span class="hljs-keyword">case</span> <span class="hljs-keyword">in</span> all these scenarios <span class="hljs-keyword">is</span> that you pay $<span class="hljs-number">16.</span> Hence, you only need $<span class="hljs-number">16</span> to guarantee a win.
</code></pre>
<p><strong>Example 2:</strong></p>
<pre><code class="hljs"><span class="hljs-symbol">Input:</span> n = <span class="hljs-number">1</span>
<span class="hljs-symbol">Output:</span> <span class="hljs-number">0</span>
<span class="hljs-symbol">Explanation:</span>&amp;nbsp<span class="hljs-comment">;There is only one possible number, so you can guess 1 and not have to pay anything.</span>
</code></pre>
<p><strong>Example 3:</strong></p>
<pre><code class="hljs">Input: n = <span class="hljs-number">2</span>
Output: <span class="hljs-number">1</span>
Explanation:&amp;nbsp;There are two possible numbers, <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> <span class="hljs-number">2.</span>
- Guess <span class="hljs-number">1.</span>
&amp;nbsp;   - If <span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> my number, your total <span class="hljs-keyword">is</span> $<span class="hljs-number">0.</span> Otherwise, you pay $<span class="hljs-number">1.</span>
&amp;nbsp;   - If my number <span class="hljs-keyword">is</span> higher, it must be <span class="hljs-number">2.</span> Guess <span class="hljs-number">2.</span> Your total <span class="hljs-keyword">is</span> $<span class="hljs-number">1.</span>
The worst <span class="hljs-keyword">case</span> <span class="hljs-keyword">is</span> that you pay $<span class="hljs-number">1.</span>
</code></pre>
<p>&nbsp;
<strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= n &lt;= 200</code></li>
</ul>
<h2 id="solution">Solution</h2>
<pre><code class="hljs lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>{
    <span class="hljs-keyword">int</span>[][] matrix;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getMoneyAmount</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
        matrix = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n + <span class="hljs-number">1</span>][n + <span class="hljs-number">1</span>];
        <span class="hljs-keyword">return</span> get(<span class="hljs-number">1</span>, n);
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-keyword">int</span> min, <span class="hljs-keyword">int</span> max)</span> </span>{
        <span class="hljs-keyword">if</span> (max - min &lt; <span class="hljs-number">3</span>) {
            <span class="hljs-keyword">return</span> max - min &lt;= <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : max - <span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">if</span> (matrix[min][max] != <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> matrix[min][max];
        }
        <span class="hljs-keyword">int</span> select = max - <span class="hljs-number">3</span>;
        <span class="hljs-keyword">int</span> minRes = Integer.MAX_VALUE;
        <span class="hljs-keyword">int</span> res;
        <span class="hljs-keyword">int</span> end = min + ((max - min) &gt;&gt; <span class="hljs-number">1</span>) - <span class="hljs-number">1</span>;
        <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span> (<span class="hljs-keyword">true</span>) {
            res = select + Math.max(get(min, select - <span class="hljs-number">1</span>), get(select + <span class="hljs-number">1</span>, max));
            <span class="hljs-keyword">if</span> (res &gt; minRes) {
                cnt++;
                <span class="hljs-keyword">if</span> (cnt &gt;= <span class="hljs-number">3</span>) {
                    <span class="hljs-keyword">break</span>;
                }
            }
            <span class="hljs-keyword">if</span> (res &lt; minRes) {
                minRes = res;
            }
            select--;
            <span class="hljs-keyword">if</span> (select &lt;= end) {
                <span class="hljs-keyword">break</span>;
            }
        }
        matrix[min][max] = minRes;
        <span class="hljs-keyword">return</span> minRes;
    }
}
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/BaffinLee/leetcode-javascript" target="_blank"><img src="https://baffinlee.com/leetcode-javascript/static/img/github.png" alt="github"/></a></footer></body></html>