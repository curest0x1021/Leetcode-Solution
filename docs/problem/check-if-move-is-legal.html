<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>Check if Move is Legal - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://curest0x1021.github.io/Leetcode-Solution/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://curest0x1021.github.io/Leetcode-Solution/static/css/app.css"/></head><body><header><h1>1958. Check if Move is Legal</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://curest0x1021.github.io/Leetcode-Solution/difficulty/medium" class="tag">Medium</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/array">Array</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/matrix">Matrix</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/enumeration">Enumeration</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>You are given a <strong>0-indexed</strong> <code>8 x 8</code> grid <code>board</code>, where <code>board[r][c]</code> represents the cell <code>(r, c)</code> on a game board. On the board, free cells are represented by <code>'.'</code>, white cells are represented by <code>'W'</code>, and black cells are represented by <code>'B'</code>.</p>
<p>Each move in this game consists of choosing a free cell and changing it to the color you are playing as (either white or black). However, a move is only <strong>legal</strong> if, after changing it, the cell becomes the <strong>endpoint of a good line</strong> (horizontal, vertical, or diagonal).</p>
<p>A <strong>good line</strong> is a line of <strong>three or more cells (including the endpoints)</strong> where the endpoints of the line are <strong>one color</strong>, and the remaining cells in the middle are the <strong>opposite color</strong> (no cells in the line are free). You can find examples for good lines in the figure below:</p>
<p><img src="https://assets.leetcode.com/uploads/2021/07/22/goodlines5.png" alt="" /></p>
<p>Given two integers <code>rMove</code> and <code>cMove</code> and a character <code>color</code> representing the color you are playing as (white or black), return <code>true</code> **if changing cell **<code>(rMove, cMove)</code> <strong>to color</strong> <code>color</code> **is a *<em>legal</em>* move, or <strong><code>false</code></strong> if it is not legal**.</p>
<p>&nbsp;
<strong>Example 1:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2021/07/10/grid11.png" alt="" /></p>
<pre><code class="hljs">Input: board = [[<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"B"</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>],[<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"W"</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>],[<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"W"</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>],[<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"W"</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>],[<span class="hljs-string">"W"</span>,<span class="hljs-string">"B"</span>,<span class="hljs-string">"B"</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"W"</span>,<span class="hljs-string">"W"</span>,<span class="hljs-string">"W"</span>,<span class="hljs-string">"B"</span>],[<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"B"</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>],[<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"B"</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>],[<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"W"</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>]], rMove = <span class="hljs-number">4</span>, cMove = <span class="hljs-number">3</span>, color = <span class="hljs-string">"B"</span>
Output: <span class="hljs-literal">true</span>
Explanation: <span class="hljs-string">'.'</span>, <span class="hljs-string">'W'</span>, <span class="hljs-keyword">and</span> <span class="hljs-string">'B'</span> are represented <span class="hljs-keyword">by</span> <span class="hljs-keyword">the</span> colors blue, white, <span class="hljs-keyword">and</span> <span class="hljs-keyword">black</span> respectively, <span class="hljs-keyword">and</span> cell (rMove, cMove) is marked <span class="hljs-keyword">with</span> <span class="hljs-keyword">an</span> <span class="hljs-string">'X'</span>.
The <span class="hljs-literal">two</span> good <span class="hljs-keyword">lines</span> <span class="hljs-keyword">with</span> <span class="hljs-keyword">the</span> chosen cell <span class="hljs-keyword">as</span> <span class="hljs-keyword">an</span> endpoint are annotated above <span class="hljs-keyword">with</span> <span class="hljs-keyword">the</span> red rectangles.
</code></pre>
<p><strong>Example 2:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2021/07/10/grid2.png" alt="" /></p>
<pre><code class="hljs">Input: board = [[<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>],[<span class="hljs-string">"."</span>,<span class="hljs-string">"B"</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"W"</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>],[<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"W"</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>],[<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"W"</span>,<span class="hljs-string">"B"</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>],[<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>],[<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"B"</span>,<span class="hljs-string">"W"</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>],[<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"W"</span>,<span class="hljs-string">"."</span>],[<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"."</span>,<span class="hljs-string">"B"</span>]], rMove = <span class="hljs-number">4</span>, cMove = <span class="hljs-number">4</span>, color = <span class="hljs-string">"W"</span>
Output: <span class="hljs-literal">false</span>
Explanation: While there are good <span class="hljs-keyword">lines</span> <span class="hljs-keyword">with</span> <span class="hljs-keyword">the</span> chosen cell <span class="hljs-keyword">as</span> <span class="hljs-keyword">a</span> <span class="hljs-keyword">middle</span> cell, there are no good <span class="hljs-keyword">lines</span> <span class="hljs-keyword">with</span> <span class="hljs-keyword">the</span> chosen cell <span class="hljs-keyword">as</span> <span class="hljs-keyword">an</span> endpoint.
</code></pre>
<p>&nbsp;
<strong>Constraints:</strong></p>
<ul>
<li><p><code>board.length == board[r].length == 8</code></p></li>
<li><p><code>0 &lt;= rMove, cMove &lt; 8</code></p></li>
<li><p><code>board[rMove][cMove] == '.'</code></p></li>
<li><p><code>color</code> is either <code>'B'</code> or <code>'W'</code>.</p></li>
</ul>
<h2 id="solution-java">Solution (Java)</h2>
<pre><code class="hljs lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span>[][] DIRS =
            <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[][] {{-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>}, {-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>}, {-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>}, {<span class="hljs-number">0</span>, -<span class="hljs-number">1</span>}, {<span class="hljs-number">0</span>, <span class="hljs-number">1</span>}, {<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>}, {<span class="hljs-number">1</span>, <span class="hljs-number">0</span>}, {<span class="hljs-number">1</span>, <span class="hljs-number">1</span>}};

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">checkMove</span><span class="hljs-params">(<span class="hljs-keyword">char</span>[][] board, <span class="hljs-keyword">int</span> rMove, <span class="hljs-keyword">int</span> cMove, <span class="hljs-keyword">char</span> color)</span> </span>{
        <span class="hljs-keyword">char</span> opposite = (color == <span class="hljs-string">'W'</span> ? <span class="hljs-string">'B'</span> : (color == <span class="hljs-string">'B'</span> ? <span class="hljs-string">'W'</span> : <span class="hljs-string">' '</span>));
        <span class="hljs-keyword">if</span> (opposite == <span class="hljs-string">' '</span> || !find(board, rMove, cMove, <span class="hljs-string">'.'</span>)) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span>[] dir : DIRS) {
            <span class="hljs-keyword">int</span> rNext = rMove + dir[<span class="hljs-number">0</span>];
            <span class="hljs-keyword">int</span> cNext = cMove + dir[<span class="hljs-number">1</span>];
            <span class="hljs-keyword">if</span> (find(board, rNext, cNext, opposite)) {
                rNext += dir[<span class="hljs-number">0</span>];
                cNext += dir[<span class="hljs-number">1</span>];
                <span class="hljs-keyword">while</span> (find(board, rNext, cNext, opposite)) {
                    rNext += dir[<span class="hljs-number">0</span>];
                    cNext += dir[<span class="hljs-number">1</span>];
                }
                <span class="hljs-keyword">if</span> (find(board, rNext, cNext, color)) {
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
                }
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">char</span>[][] board, <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> c, <span class="hljs-keyword">final</span> <span class="hljs-keyword">char</span> target)</span> </span>{
        <span class="hljs-keyword">return</span> (r &gt;= <span class="hljs-number">0</span>
                &amp;&amp; r &lt; board.length
                &amp;&amp; c &gt;= <span class="hljs-number">0</span>
                &amp;&amp; c &lt; board[r].length
                &amp;&amp; board[r][c] == target);
    }
}
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/curest0x1021/Leetcode-Solution" target="_blank"><img src="https://curest0x1021.github.io/Leetcode-Solution/static/img/github.png" alt="github"/></a></footer></body></html>