<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>Design a Text Editor - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://curest0x1021.github.io/Leetcode-Solution/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://curest0x1021.github.io/Leetcode-Solution/static/css/app.css"/></head><body><header><h1>2296. Design a Text Editor</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://curest0x1021.github.io/Leetcode-Solution/difficulty/hard" class="tag">Hard</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/linked-list">Linked List</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/string">String</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/stack">Stack</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/design">Design</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/simulation">Simulation</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/doubly-linked-list">Doubly-Linked List</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>Design a text editor with a cursor that can do the following:</p>
<ul>
<li><p><strong>Add</strong> text to where the cursor is.</p></li>
<li><p><strong>Delete</strong> text from where the cursor is (simulating the backspace key).</p></li>
<li><p><strong>Move</strong> the cursor either left or right.</p></li>
</ul>
<p>When deleting text, only characters to the left of the cursor will be deleted. The cursor will also remain within the actual text and cannot be moved beyond it. More formally, we have that <code>0 &lt;= cursor.position &lt;= currentText.length</code> always holds.</p>
<p>Implement the <code>TextEditor</code> class:</p>
<ul>
<li><p><code>TextEditor()</code> Initializes the object with empty text.</p></li>
<li><p><code>void addText(string text)</code> Appends <code>text</code> to where the cursor is. The cursor ends to the right of <code>text</code>.</p></li>
<li><p><code>int deleteText(int k)</code> Deletes <code>k</code> characters to the left of the cursor. Returns the number of characters actually deleted.</p></li>
<li><p><code>string cursorLeft(int k)</code> Moves the cursor to the left <code>k</code> times. Returns the last <code>min(10, len)</code> characters to the left of the cursor, where <code>len</code> is the number of characters to the left of the cursor.</p></li>
<li><p><code>string cursorRight(int k)</code> Moves the cursor to the right <code>k</code> times. Returns the last <code>min(10, len)</code> characters to the left of the cursor, where <code>len</code> is the number of characters to the left of the cursor.</p></li>
</ul>
<p>&nbsp;
<strong>Example 1:</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">Input</span>
["TextEditor", "addText", "deleteText", "addText", "cursorRight", "cursorLeft", "deleteText", "cursorLeft", "cursorRight"]
[[], ["leetcode"], [<span class="hljs-number">4</span>], ["practice"], [<span class="hljs-number">3</span>], [<span class="hljs-number">8</span>], [<span class="hljs-number">10</span>], [<span class="hljs-number">2</span>], [<span class="hljs-number">6</span>]]
Output
[<span class="hljs-keyword">null</span>, <span class="hljs-keyword">null</span>, <span class="hljs-number">4</span>, <span class="hljs-keyword">null</span>, "etpractice", "leet", <span class="hljs-number">4</span>, "", "practi"]

Explanation
TextEditor textEditor = <span class="hljs-built_in">new</span> TextEditor(); // The <span class="hljs-keyword">current</span> <span class="hljs-type">text</span> <span class="hljs-keyword">is</span> "|". (The <span class="hljs-string">'|'</span> <span class="hljs-type">character</span> represents the <span class="hljs-keyword">cursor</span>)
textEditor.addText("leetcode"); // The <span class="hljs-keyword">current</span> <span class="hljs-type">text</span> <span class="hljs-keyword">is</span> "leetcode|".
textEditor.deleteText(<span class="hljs-number">4</span>); // <span class="hljs-keyword">return</span> <span class="hljs-number">4</span>
                          // The <span class="hljs-keyword">current</span> <span class="hljs-type">text</span> <span class="hljs-keyword">is</span> "leet|". 
                          // <span class="hljs-number">4</span> characters were deleted.
textEditor.addText("practice"); // The <span class="hljs-keyword">current</span> <span class="hljs-type">text</span> <span class="hljs-keyword">is</span> "leetpractice|". 
textEditor.cursorRight(<span class="hljs-number">3</span>); // <span class="hljs-keyword">return</span> "etpractice"
                           // The <span class="hljs-keyword">current</span> <span class="hljs-type">text</span> <span class="hljs-keyword">is</span> "leetpractice|". 
                           // The <span class="hljs-keyword">cursor</span> cannot be moved beyond the actual <span class="hljs-type">text</span> <span class="hljs-keyword">and</span> thus did <span class="hljs-keyword">not</span> <span class="hljs-keyword">move</span>.
                           // "etpractice" <span class="hljs-keyword">is</span> the last <span class="hljs-number">10</span> characters <span class="hljs-keyword">to</span> the left <span class="hljs-keyword">of</span> the <span class="hljs-keyword">cursor</span>.
textEditor.cursorLeft(<span class="hljs-number">8</span>); // <span class="hljs-keyword">return</span> "leet"
                          // The <span class="hljs-keyword">current</span> <span class="hljs-type">text</span> <span class="hljs-keyword">is</span> "leet|practice".
                          // "leet" <span class="hljs-keyword">is</span> the last min(<span class="hljs-number">10</span>, <span class="hljs-number">4</span>) = <span class="hljs-number">4</span> characters <span class="hljs-keyword">to</span> the left <span class="hljs-keyword">of</span> the <span class="hljs-keyword">cursor</span>.
textEditor.deleteText(<span class="hljs-number">10</span>); // <span class="hljs-keyword">return</span> <span class="hljs-number">4</span>
                           // The <span class="hljs-keyword">current</span> <span class="hljs-type">text</span> <span class="hljs-keyword">is</span> "|practice".
                           // <span class="hljs-keyword">Only</span> <span class="hljs-number">4</span> characters were deleted.
textEditor.cursorLeft(<span class="hljs-number">2</span>); // <span class="hljs-keyword">return</span> ""
                          // The <span class="hljs-keyword">current</span> <span class="hljs-type">text</span> <span class="hljs-keyword">is</span> "|practice".
                          // The <span class="hljs-keyword">cursor</span> cannot be moved beyond the actual <span class="hljs-type">text</span> <span class="hljs-keyword">and</span> thus did <span class="hljs-keyword">not</span> <span class="hljs-keyword">move</span>. 
                          // "" <span class="hljs-keyword">is</span> the last min(<span class="hljs-number">10</span>, <span class="hljs-number">0</span>) = <span class="hljs-number">0</span> characters <span class="hljs-keyword">to</span> the left <span class="hljs-keyword">of</span> the <span class="hljs-keyword">cursor</span>.
textEditor.cursorRight(<span class="hljs-number">6</span>); // <span class="hljs-keyword">return</span> "practi"
                           // The <span class="hljs-keyword">current</span> <span class="hljs-type">text</span> <span class="hljs-keyword">is</span> "practi|ce".
                           // "practi" <span class="hljs-keyword">is</span> the last min(<span class="hljs-number">10</span>, <span class="hljs-number">6</span>) = <span class="hljs-number">6</span> characters <span class="hljs-keyword">to</span> the left <span class="hljs-keyword">of</span> the <span class="hljs-keyword">cursor</span>.
</code></pre>
<p>&nbsp;
<strong>Constraints:</strong></p>
<ul>
<li><p><code>1 &lt;= text.length, k &lt;= 40</code></p></li>
<li><p><code>text</code> consists of lowercase English letters.</p></li>
<li><p>At most <code>2 * 104</code> calls <strong>in total</strong> will be made to <code>addText</code>, <code>deleteText</code>, <code>cursorLeft</code> and <code>cursorRight</code>.</p></li>
</ul>
<p>&nbsp;
<strong>Follow-up:</strong> Could you find a solution with time complexity of <code>O(k)</code> per call?</p>
<h2 id="solution">Solution</h2>
<pre><code class="hljs lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TextEditor</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> StringBuilder sb;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> cursor;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TextEditor</span><span class="hljs-params">()</span> </span>{
        sb = <span class="hljs-keyword">new</span> StringBuilder();
        cursor = <span class="hljs-number">0</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addText</span><span class="hljs-params">(String text)</span> </span>{
        sb.insert(cursor, text);
        cursor += text.length();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">deleteText</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k)</span> </span>{
        <span class="hljs-keyword">int</span> prevPos = cursor;
        <span class="hljs-keyword">if</span> (cursor - k &gt;= <span class="hljs-number">0</span>) {
            cursor -= k;
            sb.delete(cursor, cursor + k);
        } <span class="hljs-keyword">else</span> {
            sb.delete(<span class="hljs-number">0</span>, cursor);
            cursor = <span class="hljs-number">0</span>;
        }
        <span class="hljs-keyword">return</span> prevPos - cursor;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">cursorLeft</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k)</span> </span>{
        cursor = Math.max(cursor - k, <span class="hljs-number">0</span>);
        <span class="hljs-keyword">return</span> sb.substring(Math.max(cursor - <span class="hljs-number">10</span>, <span class="hljs-number">0</span>), cursor);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">cursorRight</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k)</span> </span>{
        cursor = Math.min(cursor + k, sb.length());
        <span class="hljs-keyword">return</span> sb.substring(Math.max(cursor - <span class="hljs-number">10</span>, <span class="hljs-number">0</span>), cursor);
    }
}

<span class="hljs-comment">/**
 * Your TextEditor object will be instantiated and called as such:
 * TextEditor obj = new TextEditor();
 * obj.addText(text);
 * int param_2 = obj.deleteText(k);
 * String param_3 = obj.cursorLeft(k);
 * String param_4 = obj.cursorRight(k);
 */</span>
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/curest0x1021/Leetcode-Solution" target="_blank"><img src="https://curest0x1021.github.io/Leetcode-Solution/static/img/github.png" alt="github"/></a></footer></body></html>