<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>Reverse Nodes in Even Length Groups - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://curest0x1021.github.io/Leetcode-Solution/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://curest0x1021.github.io/Leetcode-Solution/static/css/app.css"/></head><body><header><h1>2074. Reverse Nodes in Even Length Groups</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://curest0x1021.github.io/Leetcode-Solution/difficulty/medium" class="tag">Medium</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/tag/linked-list">Linked List</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"><li><a href="https://curest0x1021.github.io/Leetcode-Solution/problem/reverse-nodes-in-k-group.html">Reverse Nodes in k-Group</a></li><li><a href="https://curest0x1021.github.io/Leetcode-Solution/problem/reverse-linked-list.html">Reverse Linked List</a></li></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>You are given the <code>head</code> of a linked list.</p>
<p>The nodes in the linked list are <strong>sequentially</strong> assigned to <strong>non-empty</strong> groups whose lengths form the sequence of the natural numbers (<code>1, 2, 3, 4, ...</code>). The <strong>length</strong> of a group is the number of nodes assigned to it. In other words,</p>
<ul>
<li><p>The <code>1st</code> node is assigned to the first group.</p></li>
<li><p>The <code>2nd</code> and the <code>3rd</code> nodes are assigned to the second group.</p></li>
<li><p>The <code>4th</code>, <code>5th</code>, and <code>6th</code> nodes are assigned to the third group, and so on.</p></li>
</ul>
<p>Note that the length of the last group may be less than or equal to <code>1 + the length of the second to last group</code>.</p>
<p><strong>Reverse</strong> the nodes in each group with an <strong>even</strong> length, and return <strong>the</strong> <code>head</code> <strong>of the modified linked list</strong>.</p>
<p>&nbsp;
<strong>Example 1:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2021/10/25/eg1.png" alt="" /></p>
<pre><code class="hljs">Input: head = [5,2,6,3,9,1,7,3,8,4]
Output: [5,6,2,3,9,1,4,8,3,7]
Explanation:
- The length of the first<span class="hljs-built_in"> group </span>is 1, which is odd, hence <span class="hljs-literal">no</span> reversal occurs.
- The length of the second<span class="hljs-built_in"> group </span>is 2, which is even, hence the nodes are reversed.
- The length of the third<span class="hljs-built_in"> group </span>is 3, which is odd, hence <span class="hljs-literal">no</span> reversal occurs.
- The length of the last<span class="hljs-built_in"> group </span>is 4, which is even, hence the nodes are reversed.
</code></pre>
<p><strong>Example 2:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2021/10/25/eg2.png" alt="" /></p>
<pre><code class="hljs">Input: head = [1,1,0,6]
Output: [1,0,1,6]
Explanation:
- The length of the first<span class="hljs-built_in"> group </span>is 1. <span class="hljs-literal">No</span> reversal occurs.
- The length of the second<span class="hljs-built_in"> group </span>is 2. The nodes are reversed.
- The length of the last<span class="hljs-built_in"> group </span>is 1. <span class="hljs-literal">No</span> reversal occurs.
</code></pre>
<p><strong>Example 3:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2021/11/17/ex3.png" alt="" /></p>
<pre><code class="hljs">Input: head = [1,1,0,6,5]
Output: [1,0,1,5,6]
Explanation:
- The length of the first<span class="hljs-built_in"> group </span>is 1. <span class="hljs-literal">No</span> reversal occurs.
- The length of the second<span class="hljs-built_in"> group </span>is 2. The nodes are reversed.
- The length of the last<span class="hljs-built_in"> group </span>is 2. The nodes are reversed.
</code></pre>
<p>&nbsp;
<strong>Constraints:</strong></p>
<ul>
<li><p>The number of nodes in the list is in the range <code>[1, 105]</code>.</p></li>
<li><p><code>0 &lt;= Node.val &lt;= 105</code></p></li>
</ul>
<h2 id="solution-java">Solution (Java)</h2>
<pre><code class="hljs lang-java"><span class="hljs-comment">/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode() {}
 *     ListNode(int val) { this.val = val; }
 *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> ListNode <span class="hljs-title">reverseEvenLengthGroups</span><span class="hljs-params">(ListNode head)</span> </span>{
        <span class="hljs-keyword">int</span> totalSize = size(head);
        <span class="hljs-keyword">int</span> curSize = <span class="hljs-number">1</span>;
        ListNode dummy = <span class="hljs-keyword">new</span> ListNode(-<span class="hljs-number">1</span>);
        dummy.next = head;
        ListNode cur = dummy;
        <span class="hljs-keyword">while</span> (totalSize &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">if</span> (curSize % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) {
                ListNode[] arr = reverse(cur.next, curSize);
                cur.next = arr[<span class="hljs-number">0</span>];
                arr[<span class="hljs-number">1</span>].next = arr[<span class="hljs-number">2</span>];
                cur = arr[<span class="hljs-number">1</span>];
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; curSize; i++) {
                    cur = cur.next;
                }
            }
            totalSize -= curSize;
            curSize = totalSize &gt;= curSize + <span class="hljs-number">1</span> ? curSize + <span class="hljs-number">1</span> : totalSize;
        }
        <span class="hljs-keyword">return</span> head;
    }

    <span class="hljs-keyword">private</span> ListNode[] reverse(ListNode head, <span class="hljs-keyword">int</span> size) {
        ListNode prev = <span class="hljs-keyword">null</span>;
        ListNode forward;
        ListNode cur = head;
        <span class="hljs-keyword">while</span> (size-- &gt; <span class="hljs-number">0</span>) {
            forward = cur.next;
            cur.next = prev;
            prev = cur;
            cur = forward;
        }
        ListNode[] arr = <span class="hljs-keyword">new</span> ListNode[<span class="hljs-number">3</span>];
        arr[<span class="hljs-number">0</span>] = prev;
        arr[<span class="hljs-number">1</span>] = head;
        arr[<span class="hljs-number">2</span>] = cur;
        <span class="hljs-keyword">return</span> arr;
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> <span class="hljs-title">size</span><span class="hljs-params">(ListNode head)</span> </span>{
        <span class="hljs-keyword">int</span> size = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span> (head != <span class="hljs-keyword">null</span>) {
            size++;
            head = head.next;
        }
        <span class="hljs-keyword">return</span> size;
    }
}
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/curest0x1021/Leetcode-Solution" target="_blank"><img src="https://curest0x1021.github.io/Leetcode-Solution/static/img/github.png" alt="github"/></a></footer></body></html>