<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>Transform to Chessboard - LeetCode javascript solutions</title><link rel="shortcut icon" href="https://baffinlee.com/leetcode-javascript/static/img/favicon.png" type="image/png"/><link rel="stylesheet" href="https://baffinlee.com/leetcode-javascript/static/css/app.css"/></head><body><header><h1>782. Transform to Chessboard</h1><div class="row"><div class="name">Difficulty:</div><div class="value"><a href="https://baffinlee.com/leetcode-javascript/difficulty/hard" class="tag">Hard</a></div></div><div class="row"><div class="name">Related Topics:</div><div class="value"><ul class="clearfix"><li><a href="https://baffinlee.com/leetcode-javascript/tag/array">Array</a></li><li><a href="https://baffinlee.com/leetcode-javascript/tag/math">Math</a></li><li><a href="https://baffinlee.com/leetcode-javascript/tag/bit-manipulation">Bit Manipulation</a></li><li><a href="https://baffinlee.com/leetcode-javascript/tag/matrix">Matrix</a></li></ul></div></div><div class="row"><div class="name">Similar Questions:</div><div class="value"><ul class="clearfix"></ul></div></div></header><main><article class="markdown-body"><h2 id="problem">Problem</h2>
<p>You are given an <code>n x n</code> binary grid <code>board</code>. In each move, you can swap any two rows with each other, or any two columns with each other.</p>
<p>Return **the minimum number of moves to transform the board into a *<em>chessboard board</em>***. If the task is impossible, return <code>-1</code>.</p>
<p>A <strong>chessboard board</strong> is a board where no <code>0</code>'s and no <code>1</code>'s are 4-directionally adjacent.</p>
<p>&nbsp;
<strong>Example 1:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2021/06/29/chessboard1-grid.jpg" alt="" /></p>
<pre><code class="hljs">Input: board = [[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>]]
Output: <span class="hljs-number">2</span>
Explanation: One potential sequence of moves <span class="hljs-keyword">is</span> shown.
The first move swaps the first <span class="hljs-keyword">and</span> second column.
The second move swaps the second <span class="hljs-keyword">and</span> third row.
</code></pre>
<p><strong>Example 2:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2021/06/29/chessboard2-grid.jpg" alt="" /></p>
<pre><code class="hljs">Input: board = [[0,1],[1,0]]
Output: 0
Explanation: Also<span class="hljs-built_in"> note </span>that the board with 0 <span class="hljs-keyword">in</span> the top left corner, is also a valid chessboard.
</code></pre>
<p><strong>Example 3:</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2021/06/29/chessboard3-grid.jpg" alt="" /></p>
<pre><code class="hljs">Input: board = <span class="hljs-string">[[1,0],[1,0]]</span>
Output: <span class="hljs-number">-1</span>
Explanation: No matter what sequence of moves you make, you cannot <span class="hljs-keyword">end</span> with a valid chessboard.
</code></pre>
<p>&nbsp;
<strong>Constraints:</strong></p>
<ul>
<li><p><code>n == board.length</code></p></li>
<li><p><code>n == board[i].length</code></p></li>
<li><p><code>2 &lt;= n &lt;= 30</code></p></li>
<li><p><code>board[i][j]</code> is either&nbsp;<code>0</code> or <code>1</code>.</p></li>
</ul>
<h2 id="solution-java">Solution (Java)</h2>
<pre><code class="hljs lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">movesToChessboard</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[][] board)</span> </span>{
        <span class="hljs-keyword">int</span> n = board.length;
        <span class="hljs-keyword">int</span> colToMove = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">int</span> rowToMove = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">int</span> rowOneCnt = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">int</span> colOneCnt = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span>[] ints : board) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++) {
                <span class="hljs-keyword">if</span> (((board[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] ^ ints[<span class="hljs-number">0</span>]) ^ (ints[j] ^ board[<span class="hljs-number">0</span>][j])) == <span class="hljs-number">1</span>) {
                    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
                }
            }
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) {
            rowOneCnt += board[<span class="hljs-number">0</span>][i];
            colOneCnt += board[i][<span class="hljs-number">0</span>];
            <span class="hljs-keyword">if</span> (board[i][<span class="hljs-number">0</span>] == i % <span class="hljs-number">2</span>) {
                rowToMove++;
            }
            <span class="hljs-keyword">if</span> (board[<span class="hljs-number">0</span>][i] == i % <span class="hljs-number">2</span>) {
                colToMove++;
            }
        }
        <span class="hljs-keyword">if</span> (rowOneCnt &lt; n / <span class="hljs-number">2</span> || rowOneCnt &gt; (n + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>) {
            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">if</span> (colOneCnt &lt; n / <span class="hljs-number">2</span> || colOneCnt &gt; (n + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>) {
            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">if</span> (n % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>) {
            <span class="hljs-comment">// we cannot make it when ..ToMove is odd</span>
            <span class="hljs-keyword">if</span> (colToMove % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>) {
                colToMove = n - colToMove;
            }
            <span class="hljs-keyword">if</span> (rowToMove % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>) {
                rowToMove = n - rowToMove;
            }
        } <span class="hljs-keyword">else</span> {
            colToMove = Math.min(colToMove, n - colToMove);
            rowToMove = Math.min(rowToMove, n - rowToMove);
        }
        <span class="hljs-keyword">return</span> (colToMove + rowToMove) / <span class="hljs-number">2</span>;
    }
}
</code></pre>
<h2 id="solution-c">Solution (C++)</h2>
<pre><code class="hljs lang-cpp"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> {</span>
<span class="hljs-keyword">public</span>:
   <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">movesToChessboard</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; b)</span> </span>{
      <span class="hljs-keyword">int</span> n = b.size();
      <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++){
         <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++){
            <span class="hljs-keyword">if</span>(b[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] ^ b[<span class="hljs-number">0</span>][j] ^ b[i][<span class="hljs-number">0</span>] ^ b[i][j]) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
         }
      }
      <span class="hljs-keyword">int</span> rowSum = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">int</span> colSum = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">int</span> rowSwap = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">int</span> colSwap = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++){
         rowSum += b[i][<span class="hljs-number">0</span>];
         colSum += b[<span class="hljs-number">0</span>][i];
         rowSwap += b[i][<span class="hljs-number">0</span>] == i % <span class="hljs-number">2</span>;
         colSwap += b[<span class="hljs-number">0</span>][i] == i % <span class="hljs-number">2</span>;
      }
      <span class="hljs-keyword">if</span>(rowSum != n/<span class="hljs-number">2</span> &amp;&amp; rowSum != (n + <span class="hljs-number">1</span>)/<span class="hljs-number">2</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
      <span class="hljs-keyword">if</span>(colSum != n/<span class="hljs-number">2</span> &amp;&amp; colSum != (n + <span class="hljs-number">1</span>)/<span class="hljs-number">2</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
      <span class="hljs-keyword">if</span>(n % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>){
         <span class="hljs-keyword">if</span>(colSwap % <span class="hljs-number">2</span>) colSwap = n - colSwap;
         <span class="hljs-keyword">if</span>(rowSwap % <span class="hljs-number">2</span>) rowSwap = n - rowSwap;
      }<span class="hljs-keyword">else</span>{
         colSwap = min(colSwap, n - colSwap);
         rowSwap = min(rowSwap, n - rowSwap);
      }
      <span class="hljs-keyword">return</span> (rowSwap + colSwap)/<span class="hljs-number">2</span>;
   }
};
</code></pre>
<p><strong>Explain:</strong></p>
<p>nope.</p>
<p><strong>Complexity:</strong></p>
<ul>
<li>Time complexity : O(n).</li>
<li>Space complexity : O(n).</li>
</ul></article></main><footer><a href="https://github.com/BaffinLee/leetcode-javascript" target="_blank"><img src="https://baffinlee.com/leetcode-javascript/static/img/github.png" alt="github"/></a></footer></body></html>